"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5450],{3905:function(e,t,i){i.d(t,{Zo:function(){return u},kt:function(){return m}});var a=i(7294);function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function r(e,t){if(null==e)return{};var i,a,n=function(e,t){if(null==e)return{};var i,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)i=l[a],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)i=l[a],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var s=a.createContext({}),p=function(e){var t=a.useContext(s),i=t;return e&&(i="function"==typeof e?e(t):o(o({},t),e)),i},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var i=e.components,n=e.mdxType,l=e.originalType,s=e.parentName,u=r(e,["components","mdxType","originalType","parentName"]),d=p(i),m=n,h=d["".concat(s,".").concat(m)]||d[m]||c[m]||l;return i?a.createElement(h,o(o({ref:t},u),{},{components:i})):a.createElement(h,o({ref:t},u))}));function m(e,t){var i=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=i.length,o=new Array(l);o[0]=d;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r.mdxType="string"==typeof e?e:n,o[1]=r;for(var p=2;p<l;p++)o[p]=i[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,i)}d.displayName="MDXCreateElement"},259:function(e,t,i){i.r(t),i.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return r},metadata:function(){return p},toc:function(){return c}});var a=i(7462),n=i(3366),l=(i(7294),i(3905)),o=["components"],r={},s="Authorization Policies",p={unversionedId:"developer-docs/features/authorization-policies",id:"developer-docs/features/authorization-policies",title:"Authorization Policies",description:"Overview",source:"@site/docs/developer-docs/features/authorization-policies.md",sourceDirName:"developer-docs/features",slug:"/developer-docs/features/authorization-policies",permalink:"/developer-docs/features/authorization-policies",draft:!1,tags:[],version:"current",lastUpdatedBy:"chyuen-devsentient",lastUpdatedAt:1760986571,formattedLastUpdatedAt:"10/20/2025",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Apps Catalogue (Stack Components Directory)",permalink:"/developer-docs/features/apps-catalogue"},next:{title:"Billing Projects",permalink:"/developer-docs/features/billing-projects"}},u={},c=[{value:"Overview",id:"overview",level:2},{value:"Access &amp; Location",id:"access--location",level:2},{value:"Key Capabilities",id:"key-capabilities",level:2},{value:"View Authorization Policies",id:"view-authorization-policies",level:3},{value:"Refresh Policy Descriptions",id:"refresh-policy-descriptions",level:3},{value:"Review Policy Details",id:"review-policy-details",level:3},{value:"User Interface",id:"user-interface",level:2},{value:"Main View",id:"main-view",level:3},{value:"Summary Card",id:"summary-card",level:3},{value:"Policy List",id:"policy-list",level:3},{value:"Loading States",id:"loading-states",level:3},{value:"Dialogs &amp; Modals",id:"dialogs--modals",level:3},{value:"Tables &amp; Data Grids",id:"tables--data-grids",level:3},{value:"Technical Details",id:"technical-details",level:2},{value:"GraphQL Operations",id:"graphql-operations",level:3},{value:"Data Model",id:"data-model",level:3},{value:"Component Structure",id:"component-structure",level:3},{value:"Implementation Details",id:"implementation-details",level:3},{value:"Common Workflows",id:"common-workflows",level:2},{value:"Reviewing Authorization Policies",id:"reviewing-authorization-policies",level:3},{value:"Understanding a Specific Policy",id:"understanding-a-specific-policy",level:3},{value:"Checking for Policy Updates",id:"checking-for-policy-updates",level:3},{value:"Related Features",id:"related-features",level:2},{value:"Notes &amp; Tips",id:"notes--tips",level:2},{value:"AI-Generated Descriptions",id:"ai-generated-descriptions",level:3},{value:"Performance Considerations",id:"performance-considerations",level:3},{value:"When to Use This Panel",id:"when-to-use-this-panel",level:3},{value:"Troubleshooting",id:"troubleshooting",level:3},{value:"Feature Flag Configuration",id:"feature-flag-configuration",level:3}],d={toc:c};function m(e){var t=e.components,i=(0,n.Z)(e,o);return(0,l.kt)("wrapper",(0,a.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"authorization-policies"},"Authorization Policies"),(0,l.kt)("h2",{id:"overview"},"Overview"),(0,l.kt)("p",null,"The Authorization Policies panel provides a centralized view of all Kubernetes authorization policies configured in the Shakudo platform. This feature allows administrators to review and understand the access control rules that govern how users and services interact with platform resources. The panel displays AI-generated descriptions for each policy, making it easier to understand complex authorization configurations without diving into raw Kubernetes manifests."),(0,l.kt)("h2",{id:"access--location"},"Access & Location"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Route"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"?panel=authorization-policies")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Navigation"),": Admin \u2192 Authorization Policies"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Access Requirements"),":",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"dashboard-admin")," role (Keycloak RBAC)"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Feature Flags"),":",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"authPoliciesEnabled")," (environment variable: ",(0,l.kt)("inlineCode",{parentName:"li"},"HYPERPLANE_DASHBOARD_AUTH_POLICIES_ENABLED"),")")))),(0,l.kt)("h2",{id:"key-capabilities"},"Key Capabilities"),(0,l.kt)("h3",{id:"view-authorization-policies"},"View Authorization Policies"),(0,l.kt)("p",null,"Browse all authorization policies configured in the Kubernetes cluster with AI-generated human-readable descriptions that explain what each policy does and which resources it affects."),(0,l.kt)("h3",{id:"refresh-policy-descriptions"},"Refresh Policy Descriptions"),(0,l.kt)("p",null,"Manually trigger a refresh of authorization policy data to ensure you're viewing the most up-to-date information from the cluster. The system uses AI to regenerate descriptions when policies are updated."),(0,l.kt)("h3",{id:"review-policy-details"},"Review Policy Details"),(0,l.kt)("p",null,"Expand individual policies to view detailed markdown-formatted descriptions that explain the policy's purpose, scope, and affected resources in natural language."),(0,l.kt)("h2",{id:"user-interface"},"User Interface"),(0,l.kt)("h3",{id:"main-view"},"Main View"),(0,l.kt)("p",null,"The main view displays a summary card showing:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Last Modified"),": The timestamp of the most recently updated authorization policy"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Policy Count"),": Total number of authorization policies in the system"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Refresh Button"),": Manually refresh policy data and regenerate AI descriptions")),(0,l.kt)("p",null,"Below the summary, policies are displayed as expandable accordion items, each showing:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Policy name"),(0,l.kt)("li",{parentName:"ul"},"Collapsible description section with markdown-formatted details")),(0,l.kt)("h3",{id:"summary-card"},"Summary Card"),(0,l.kt)("p",null,"A prominent card at the top of the panel displays:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'Last modification timestamp in the format: "ddd, MMMM D YYYY HH:mm:ss"'),(0,l.kt)("li",{parentName:"ul"},"Total count of authorization policies"),(0,l.kt)("li",{parentName:"ul"},"A refresh button to reload policy data")),(0,l.kt)("h3",{id:"policy-list"},"Policy List"),(0,l.kt)("p",null,"Authorization policies are displayed as accordion items that can be expanded to reveal:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Policy name with an icon indicator"),(0,l.kt)("li",{parentName:"ul"},"Full markdown description explaining the policy's purpose and scope"),(0,l.kt)("li",{parentName:"ul"},"Details about resources affected by the policy")),(0,l.kt)("h3",{id:"loading-states"},"Loading States"),(0,l.kt)("p",null,"The interface provides clear feedback during data loading:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Skeleton loaders for summary card metrics during initial load"),(0,l.kt)("li",{parentName:"ul"},'Loading spinner with message: "AI is generating descriptions. It might take a while"'),(0,l.kt)("li",{parentName:"ul"},'Empty state message: "There are no Authorization Policies to display"'),(0,l.kt)("li",{parentName:"ul"},"Error alert if policies fail to load")),(0,l.kt)("h3",{id:"dialogs--modals"},"Dialogs & Modals"),(0,l.kt)("p",null,"This panel does not include any dialogs or modals. All functionality is accessible from the main view."),(0,l.kt)("h3",{id:"tables--data-grids"},"Tables & Data Grids"),(0,l.kt)("p",null,"This panel does not use traditional data tables. Instead, it displays policies as expandable accordion items for better readability of complex policy descriptions."),(0,l.kt)("h2",{id:"technical-details"},"Technical Details"),(0,l.kt)("h3",{id:"graphql-operations"},"GraphQL Operations"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Queries:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"getAuthorizationPolicies")," - Retrieves all authorization policies with their names, AI-generated descriptions, and timestamps")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Mutations:"),"\nNone - This is a read-only panel"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Subscriptions:"),"\nNone - Data is fetched on demand"),(0,l.kt)("h3",{id:"data-model"},"Data Model"),(0,l.kt)("p",null,"Each ",(0,l.kt)("inlineCode",{parentName:"p"},"AuthorizationPolicy")," contains:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"name")," (String) - The name of the authorization policy"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"description")," (String, optional) - AI-generated markdown description of what the policy does"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"timestamp")," (DateTime) - When the policy was last modified")),(0,l.kt)("h3",{id:"component-structure"},"Component Structure"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Main Component: ",(0,l.kt)("inlineCode",{parentName:"li"},"components/AuthPolicies/AuthPoliciesPanel.tsx")),(0,l.kt)("li",{parentName:"ul"},"Grid Component: ",(0,l.kt)("inlineCode",{parentName:"li"},"components/AuthPolicies/AuthPoliciesGrid.tsx")),(0,l.kt)("li",{parentName:"ul"},"Details Component: ",(0,l.kt)("inlineCode",{parentName:"li"},"components/AuthPolicies/AuthPoliciesDetails.tsx")),(0,l.kt)("li",{parentName:"ul"},"GraphQL Query: ",(0,l.kt)("inlineCode",{parentName:"li"},"graphql/authorizationPolicies/getAuthorizationPolicies.query.graphql"))),(0,l.kt)("h3",{id:"implementation-details"},"Implementation Details"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"The panel uses Apollo Client's ",(0,l.kt)("inlineCode",{parentName:"li"},"useQuery")," hook with ",(0,l.kt)("inlineCode",{parentName:"li"},"notifyOnNetworkStatusChange")," to track loading states"),(0,l.kt)("li",{parentName:"ul"},"Policy descriptions are rendered using the ",(0,l.kt)("inlineCode",{parentName:"li"},"MarkdownDisplay")," component for rich formatting"),(0,l.kt)("li",{parentName:"ul"},"The component is memoized for performance optimization"),(0,l.kt)("li",{parentName:"ul"},"Timestamps use dayjs for formatting with timezone support"),(0,l.kt)("li",{parentName:"ul"},"The last modified date is computed from the maximum timestamp across all policies")),(0,l.kt)("h2",{id:"common-workflows"},"Common Workflows"),(0,l.kt)("h3",{id:"reviewing-authorization-policies"},"Reviewing Authorization Policies"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Navigate to Admin \u2192 Authorization Policies"),(0,l.kt)("li",{parentName:"ol"},"View the summary card to see total policy count and last update time"),(0,l.kt)("li",{parentName:"ol"},"Scroll through the list of policies"),(0,l.kt)("li",{parentName:"ol"},"Click on any policy accordion to expand and read its AI-generated description"),(0,l.kt)("li",{parentName:"ol"},"Use the refresh button if you've recently made changes to policies")),(0,l.kt)("h3",{id:"understanding-a-specific-policy"},"Understanding a Specific Policy"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Locate the policy by name in the accordion list"),(0,l.kt)("li",{parentName:"ol"},"Click on the policy to expand its description"),(0,l.kt)("li",{parentName:"ol"},"Review the markdown-formatted explanation of:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"What the policy controls"),(0,l.kt)("li",{parentName:"ul"},"Which resources are affected"),(0,l.kt)("li",{parentName:"ul"},"Which users or services the policy applies to")))),(0,l.kt)("h3",{id:"checking-for-policy-updates"},"Checking for Policy Updates"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},'Note the "Last Modified" timestamp in the summary card'),(0,l.kt)("li",{parentName:"ol"},"If you've recently modified Kubernetes authorization policies, click the refresh button"),(0,l.kt)("li",{parentName:"ol"},"Wait for the AI to regenerate descriptions (this may take a few moments)"),(0,l.kt)("li",{parentName:"ol"},"Review the updated policy information")),(0,l.kt)("h2",{id:"related-features"},"Related Features"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/developer-docs/features/users"},"Users")," - Overall cluster configuration and management"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/developer-docs/features/service-accounts"},"Service Accounts")," - Related security features in the platform"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/developer-docs/features/secops"},"SecOps Panel")," - Security operations and compliance monitoring")),(0,l.kt)("h2",{id:"notes--tips"},"Notes & Tips"),(0,l.kt)("h3",{id:"ai-generated-descriptions"},"AI-Generated Descriptions"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Descriptions are generated by AI to make complex Kubernetes authorization policies more understandable"),(0,l.kt)("li",{parentName:"ul"},"The AI analyzes the policy configuration and creates natural language explanations"),(0,l.kt)("li",{parentName:"ul"},"Description generation may take some time, especially when refreshing many policies"),(0,l.kt)("li",{parentName:"ul"},"If descriptions seem outdated after making changes, use the refresh button")),(0,l.kt)("h3",{id:"performance-considerations"},"Performance Considerations"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"The panel fetches all policies at once, so loading time may increase with many policies"),(0,l.kt)("li",{parentName:"ul"},"Policy descriptions are cached after initial generation"),(0,l.kt)("li",{parentName:"ul"},"The refresh operation regenerates all descriptions, which can be time-consuming")),(0,l.kt)("h3",{id:"when-to-use-this-panel"},"When to Use This Panel"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"During security audits to review all authorization policies"),(0,l.kt)("li",{parentName:"ul"},"When onboarding new administrators who need to understand access controls"),(0,l.kt)("li",{parentName:"ul"},"After making changes to Kubernetes authorization policies"),(0,l.kt)("li",{parentName:"ul"},"When troubleshooting permission issues to understand what policies are in effect")),(0,l.kt)("h3",{id:"troubleshooting"},"Troubleshooting"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"If you see an error message, try refreshing the page"),(0,l.kt)("li",{parentName:"ul"},"Contact platform support if the issue persists"),(0,l.kt)("li",{parentName:"ul"},"Check that the ",(0,l.kt)("inlineCode",{parentName:"li"},"HYPERPLANE_DASHBOARD_AUTH_POLICIES_ENABLED")," environment variable is set to ",(0,l.kt)("inlineCode",{parentName:"li"},"true")),(0,l.kt)("li",{parentName:"ul"},"Verify you have ",(0,l.kt)("inlineCode",{parentName:"li"},"dashboard-admin")," role assigned in Keycloak")),(0,l.kt)("h3",{id:"feature-flag-configuration"},"Feature Flag Configuration"),(0,l.kt)("p",null,"This feature must be explicitly enabled via environment variable:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"HYPERPLANE_DASHBOARD_AUTH_POLICIES_ENABLED=true\n")),(0,l.kt)("p",null,"Without this flag, the panel will not appear in the admin navigation menu."))}m.isMDXComponent=!0}}]);