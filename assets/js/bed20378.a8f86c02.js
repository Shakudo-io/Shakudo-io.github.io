"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8390],{3905:function(e,t,a){a.d(t,{Zo:function(){return u},kt:function(){return d}});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=r.createContext({}),m=function(e){var t=r.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=m(e.components);return r.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},k=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,p=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),k=m(a),d=n,c=k["".concat(p,".").concat(d)]||k[d]||s[d]||i;return a?r.createElement(c,l(l({ref:t},u),{},{components:a})):r.createElement(c,l({ref:t},u))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=k;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:n,l[1]=o;for(var m=2;m<i;m++)l[m]=a[m];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}k.displayName="MDXCreateElement"},7551:function(e,t,a){a.r(t),a.d(t,{assets:function(){return u},contentTitle:function(){return p},default:function(){return d},frontMatter:function(){return o},metadata:function(){return m},toc:function(){return s}});var r=a(7462),n=a(3366),i=(a(7294),a(3905)),l=["components"],o={sidebar_position:2},p="SAML SSO Setup for Shakudo Hyperplane Platform",m={unversionedId:"Getting started/Sign in with external provider/SamlSetUp",id:"Getting started/Sign in with external provider/SamlSetUp",title:"SAML SSO Setup for Shakudo Hyperplane Platform",description:"This guide explains how to configure SAML Single Sign-On (SSO) for the Shakudo Hyperplane platform using Azure Active Directory (AAD) and Keycloak. It assumes that the Keycloak realm is named Hyperplane and the client ID is istio.",source:"@site/docs/Getting started/Sign in with external provider/SamlSetUp.md",sourceDirName:"Getting started/Sign in with external provider",slug:"/Getting started/Sign in with external provider/SamlSetUp",permalink:"/Getting started/Sign in with external provider/SamlSetUp",draft:!1,tags:[],version:"current",lastUpdatedBy:"chyuen-devsentient",lastUpdatedAt:1760392019,formattedLastUpdatedAt:"10/13/2025",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Use Shakudo Keycloak with an External OIDC Provider",permalink:"/Getting started/Sign in with external provider/oidcSetup"},next:{title:"IDP Mapper Setup in Shakudo Keycloak",permalink:"/Getting started/Sign in with external provider/idp-mapper-setup-doc"}},u={},s=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Create Enterprise Application in Azure AD",id:"step-1-create-enterprise-application-in-azure-ad",level:2},{value:"Step 2: Configure SAML in Azure AD",id:"step-2-configure-saml-in-azure-ad",level:2},{value:"Step 3: Download SAML Metadata",id:"step-3-download-saml-metadata",level:2},{value:"Step 4: Configure Keycloak Identity Provider",id:"step-4-configure-keycloak-identity-provider",level:2},{value:"Step 5: Configure Attribute Mappers in Keycloak",id:"step-5-configure-attribute-mappers-in-keycloak",level:2},{value:"Mapper: username",id:"mapper-username",level:3},{value:"Mapper: email",id:"mapper-email",level:3},{value:"Mapper: given name",id:"mapper-given-name",level:3},{value:"Mapper: surname",id:"mapper-surname",level:3},{value:"Optional: groups (if configured in Azure AD)",id:"optional-groups-if-configured-in-azure-ad",level:3},{value:"Step 6: Test the SSO",id:"step-6-test-the-sso",level:2},{value:"Notes",id:"notes",level:2}],k={toc:s};function d(e){var t=e.components,a=(0,n.Z)(e,l);return(0,i.kt)("wrapper",(0,r.Z)({},k,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"saml-sso-setup-for-shakudo-hyperplane-platform"},"SAML SSO Setup for Shakudo Hyperplane Platform"),(0,i.kt)("p",null,"This guide explains how to configure SAML Single Sign-On (SSO) for the Shakudo Hyperplane platform using Azure Active Directory (AAD) and Keycloak. It assumes that the Keycloak realm is named ",(0,i.kt)("inlineCode",{parentName:"p"},"Hyperplane")," and the client ID is ",(0,i.kt)("inlineCode",{parentName:"p"},"istio"),"."),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Admin access to Azure Active Directory"),(0,i.kt)("li",{parentName:"ul"},"Admin access to Keycloak instance"),(0,i.kt)("li",{parentName:"ul"},"Keycloak server reachable by AAD (public DNS or reverse proxy)")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"step-1-create-enterprise-application-in-azure-ad"},"Step 1: Create Enterprise Application in Azure AD"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Log in to ",(0,i.kt)("a",{parentName:"li",href:"https://portal.azure.com"},"Azure Portal"),"."),(0,i.kt)("li",{parentName:"ol"},"Navigate to ",(0,i.kt)("strong",{parentName:"li"},"Azure Active Directory > Enterprise Applications"),"."),(0,i.kt)("li",{parentName:"ol"},"Click ",(0,i.kt)("strong",{parentName:"li"},"+ New Application")," > ",(0,i.kt)("strong",{parentName:"li"},"Create your own application"),"."),(0,i.kt)("li",{parentName:"ol"},"Name it something like ",(0,i.kt)("inlineCode",{parentName:"li"},"Shakudo Hyperplane SSO"),", select ",(0,i.kt)("strong",{parentName:"li"},"Integrate any other application you don't find in the gallery (Non-gallery)"),", and click ",(0,i.kt)("strong",{parentName:"li"},"Create"),".")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"step-2-configure-saml-in-azure-ad"},"Step 2: Configure SAML in Azure AD"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In the created application, go to ",(0,i.kt)("strong",{parentName:"p"},"Single sign-on")," > ",(0,i.kt)("strong",{parentName:"p"},"SAML"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Under ",(0,i.kt)("strong",{parentName:"p"},"Basic SAML Configuration"),", click ",(0,i.kt)("strong",{parentName:"p"},"Edit")," and fill in:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Identifier (Entity ID)"),":",(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"https://<your-keycloak-domain>/auth/realms/Hyperplane\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Reply URL (Assertion Consumer Service URL)"),":",(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"https://<your-keycloak-domain>/auth/realms/Hyperplane/broker/azuread/endpoint\n> Some of the app require you to put https://<your-keycloak-domain> so the Application will redirect you into correct entry page of Shakudo platform\n"))))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click ",(0,i.kt)("strong",{parentName:"p"},"Save"),"."))),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"step-3-download-saml-metadata"},"Step 3: Download SAML Metadata"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"In the Azure AD SAML configuration page, download the ",(0,i.kt)("strong",{parentName:"li"},"Federation Metadata XML"),", or copy the URL."),(0,i.kt)("li",{parentName:"ol"},"Save it locally for import into Keycloak.")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"step-4-configure-keycloak-identity-provider"},"Step 4: Configure Keycloak Identity Provider"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Log in to Keycloak Admin Console (",(0,i.kt)("inlineCode",{parentName:"li"},"https://<your-keycloak-domain>/auth/admin"),")."),(0,i.kt)("li",{parentName:"ol"},"Select the realm ",(0,i.kt)("inlineCode",{parentName:"li"},"Hyperplane"),"."),(0,i.kt)("li",{parentName:"ol"},"Navigate to ",(0,i.kt)("strong",{parentName:"li"},"Identity Providers")," > ",(0,i.kt)("strong",{parentName:"li"},"Add provider")," > ",(0,i.kt)("strong",{parentName:"li"},"SAML v2.0"),"."),(0,i.kt)("li",{parentName:"ol"},"Set:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Alias"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"azuread")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Import from URL / XML"),": Upload the XML metadata from Azure, or paste the XML url from the Step 3."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"First Login Flow"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"first broker login")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Sync Mode"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"force")))),(0,i.kt)("li",{parentName:"ol"},"Click ",(0,i.kt)("strong",{parentName:"li"},"Save"),".")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"step-5-configure-attribute-mappers-in-keycloak"},"Step 5: Configure Attribute Mappers in Keycloak"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"In the Identity Provider (",(0,i.kt)("inlineCode",{parentName:"li"},"azuread"),") configuration page, scroll to the ",(0,i.kt)("strong",{parentName:"li"},"Mappers")," tab."),(0,i.kt)("li",{parentName:"ol"},"Click ",(0,i.kt)("strong",{parentName:"li"},"Create")," to add each of the following mappers:")),(0,i.kt)("h3",{id:"mapper-username"},"Mapper: username"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Name"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"username")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Mapper Type"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"Attribute Importer")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Attribute Name"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"User Attribute Name"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"username"))),(0,i.kt)("h3",{id:"mapper-email"},"Mapper: email"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Name"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"email")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Mapper Type"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"Attribute Importer")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Attribute Name"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"User Attribute Name"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"email"))),(0,i.kt)("h3",{id:"mapper-given-name"},"Mapper: given name"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Name"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"givenName")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Mapper Type"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"Attribute Importer")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Attribute Name"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"User Attribute Name"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"firstName"))),(0,i.kt)("h3",{id:"mapper-surname"},"Mapper: surname"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Name"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"surname")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Mapper Type"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"Attribute Importer")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Attribute Name"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"User Attribute Name"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"lastName"))),(0,i.kt)("h3",{id:"optional-groups-if-configured-in-azure-ad"},"Optional: groups (if configured in Azure AD)"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Name"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"groups")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Mapper Type"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"Attribute Importer")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Attribute Name"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"http://schemas.xmlsoap.org/claims/Group")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"User Attribute Name"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"groups"))),(0,i.kt)("p",null,"Click ",(0,i.kt)("strong",{parentName:"p"},"Save")," for each."),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"step-6-test-the-sso"},"Step 6: Test the SSO"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Go to your Shakudo platform."),(0,i.kt)("li",{parentName:"ol"},"You should be redirected to Azure AD for login."),(0,i.kt)("li",{parentName:"ol"},"After login, you\u2019ll be redirected back to the platform and logged in.")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"notes"},"Notes"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"If group/role mapping is needed, ensure Azure AD is sending the correct claims, and use ",(0,i.kt)("inlineCode",{parentName:"li"},"mappers")," in Keycloak."),(0,i.kt)("li",{parentName:"ul"},"Ensure the clock time between Keycloak and Azure AD is synchronized to avoid token issues.")),(0,i.kt)("p",null,"Enjoy seamless identity federation with Azure AD and the Shakudo Hyperplane platform \ud83d\ude80"))}d.isMDXComponent=!0}}]);