"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1491],{3905:function(e,t,i){i.d(t,{Zo:function(){return f},kt:function(){return m}});var a=i(7294);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t){if(null==e)return{};var i,a,r=function(e,t){if(null==e)return{};var i,a,r={},n=Object.keys(e);for(a=0;a<n.length;a++)i=n[a],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)i=n[a],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var o=a.createContext({}),c=function(e){var t=a.useContext(o),i=t;return e&&(i="function"==typeof e?e(t):l(l({},t),e)),i},f=function(e){var t=c(e.components);return a.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var i=e.components,r=e.mdxType,n=e.originalType,o=e.parentName,f=s(e,["components","mdxType","originalType","parentName"]),p=c(i),m=r,d=p["".concat(o,".").concat(m)]||p[m]||u[m]||n;return i?a.createElement(d,l(l({ref:t},f),{},{components:i})):a.createElement(d,l({ref:t},f))}));function m(e,t){var i=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var n=i.length,l=new Array(n);l[0]=p;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var c=2;c<n;c++)l[c]=i[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,i)}p.displayName="MDXCreateElement"},3115:function(e,t,i){i.r(t),i.d(t,{assets:function(){return f},contentTitle:function(){return o},default:function(){return m},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return u}});var a=i(7462),r=i(3366),n=(i(7294),i(3905)),l=["components"],s={},o="Traffic Shifting",c={unversionedId:"developer-docs/features/traffic-shifting",id:"developer-docs/features/traffic-shifting",title:"Traffic Shifting",description:"Overview",source:"@site/docs/developer-docs/features/traffic-shifting.md",sourceDirName:"developer-docs/features",slug:"/developer-docs/features/traffic-shifting",permalink:"/developer-docs/features/traffic-shifting",draft:!1,tags:[],version:"current",lastUpdatedBy:"chyuen-devsentient",lastUpdatedAt:1760986571,formattedLastUpdatedAt:"10/20/2025",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Stack Components",permalink:"/developer-docs/features/stack-components"},next:{title:"Triton Inference Server",permalink:"/developer-docs/features/triton-inference-server"}},f={},u=[{value:"Overview",id:"overview",level:2},{value:"Access &amp; Location",id:"access--location",level:2},{value:"Key Capabilities",id:"key-capabilities",level:2},{value:"Create Traffic Shifter",id:"create-traffic-shifter",level:3},{value:"Update Traffic Distribution",id:"update-traffic-distribution",level:3},{value:"Cancel Traffic Shifter",id:"cancel-traffic-shifter",level:3},{value:"Monitor Traffic Distribution",id:"monitor-traffic-distribution",level:3},{value:"User Interface",id:"user-interface",level:2},{value:"Main View",id:"main-view",level:3},{value:"Dialogs &amp; Modals",id:"dialogs--modals",level:3},{value:"Tables &amp; Data Grids",id:"tables--data-grids",level:3},{value:"Technical Details",id:"technical-details",level:2},{value:"GraphQL Operations",id:"graphql-operations",level:3},{value:"Component Structure",id:"component-structure",level:3},{value:"State Management",id:"state-management",level:3},{value:"Weight Distribution Algorithm",id:"weight-distribution-algorithm",level:3},{value:"Common Workflows",id:"common-workflows",level:2},{value:"Creating a Basic Traffic Shifter",id:"creating-a-basic-traffic-shifter",level:3},{value:"Performing a Canary Deployment",id:"performing-a-canary-deployment",level:3},{value:"A/B Testing Multiple Versions",id:"ab-testing-multiple-versions",level:3},{value:"Updating Traffic Distribution",id:"updating-traffic-distribution",level:3},{value:"Filtering Traffic Shifters",id:"filtering-traffic-shifters",level:3},{value:"Related Features",id:"related-features",level:2},{value:"Notes &amp; Tips",id:"notes--tips",level:2}],p={toc:u};function m(e){var t=e.components,i=(0,r.Z)(e,l);return(0,n.kt)("wrapper",(0,a.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"traffic-shifting"},"Traffic Shifting"),(0,n.kt)("h2",{id:"overview"},"Overview"),(0,n.kt)("p",null,"Traffic Shifting (also called Traffic Management) is a feature that enables users to distribute network traffic across multiple microservices using weighted routing. It creates a virtual service (traffic shifter) that acts as a single endpoint and intelligently distributes incoming requests to multiple backend microservices based on configurable percentage weights. This is useful for A/B testing, canary deployments, blue-green deployments, and gradual rollouts of new service versions."),(0,n.kt)("h2",{id:"access--location"},"Access & Location"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Route"),": ",(0,n.kt)("inlineCode",{parentName:"li"},"?panel=traffic-shifting")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Navigation"),": Network \u2192 Traffic Shifting"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Access Requirements"),":",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Users can view their own traffic shifters"),(0,n.kt)("li",{parentName:"ul"},"Admin roles can view all traffic shifters (controlled by ",(0,n.kt)("inlineCode",{parentName:"li"},"TrafficShiftingRoles.filters.email"),")"),(0,n.kt)("li",{parentName:"ul"},"Cancel action requires ownership or specific admin role (",(0,n.kt)("inlineCode",{parentName:"li"},"TrafficShiftingRoles.actions.cancel"),")"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Feature Flags"),": None")),(0,n.kt)("h2",{id:"key-capabilities"},"Key Capabilities"),(0,n.kt)("h3",{id:"create-traffic-shifter"},"Create Traffic Shifter"),(0,n.kt)("p",null,"Create a virtual service endpoint that distributes traffic across multiple microservices with configurable weight percentages. Users can add up to 5 microservices and define how traffic is split between them (e.g., 70% to Service A, 30% to Service B)."),(0,n.kt)("h3",{id:"update-traffic-distribution"},"Update Traffic Distribution"),(0,n.kt)("p",null,"Modify the traffic weight distribution for existing traffic shifters. Users can add or remove microservices, adjust percentage weights, and update descriptions without recreating the traffic shifter."),(0,n.kt)("h3",{id:"cancel-traffic-shifter"},"Cancel Traffic Shifter"),(0,n.kt)("p",null,"Deactivate a traffic shifter to stop routing traffic through the virtual service. This is a permanent action that removes the traffic splitting configuration."),(0,n.kt)("h3",{id:"monitor-traffic-distribution"},"Monitor Traffic Distribution"),(0,n.kt)("p",null,"View active traffic shifters with their associated microservices, current traffic distribution percentages, status, and endpoint URLs. The interface uses a hierarchical tree view where each traffic shifter can be expanded to show its constituent microservices."),(0,n.kt)("h2",{id:"user-interface"},"User Interface"),(0,n.kt)("h3",{id:"main-view"},"Main View"),(0,n.kt)("p",null,"The main panel displays a hierarchical data grid showing all traffic shifters with expandable rows revealing the microservices behind each shifter. The table shows:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Traffic shifter name and subdomain"),(0,n.kt)("li",{parentName:"ul"},"Overall status (Active/Inactive)"),(0,n.kt)("li",{parentName:"ul"},"Distribution percentages for each microservice"),(0,n.kt)("li",{parentName:"ul"},"Endpoint URLs"),(0,n.kt)("li",{parentName:"ul"},"Individual microservice status and logs"),(0,n.kt)("li",{parentName:"ul"},"User ownership information")),(0,n.kt)("h3",{id:"dialogs--modals"},"Dialogs & Modals"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Traffic Shifting Create Dialog")),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Purpose: Create a new traffic shifter with multiple microservices"),(0,n.kt)("li",{parentName:"ul"},"Fields:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Traffic Shifter Name (required): Display name for the traffic shifter"),(0,n.kt)("li",{parentName:"ul"},"Name (subdomain) (required): Subdomain where the traffic shifter will be hosted (alphanumeric, dashes, dots, max 63 chars)"),(0,n.kt)("li",{parentName:"ul"},"Description: Optional description"),(0,n.kt)("li",{parentName:"ul"},"Services: Select up to 5 microservices to include"),(0,n.kt)("li",{parentName:"ul"},"Traffic Weights: Percentage distribution for each service (must total 100%)"))),(0,n.kt)("li",{parentName:"ul"},"Actions:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Add Service: Add another microservice to the distribution"),(0,n.kt)("li",{parentName:"ul"},"Evenly Distribute Traffic: Automatically balance weights equally across all services"),(0,n.kt)("li",{parentName:"ul"},"Pin/Unpin Weight: Lock a service's weight percentage to prevent automatic adjustments"),(0,n.kt)("li",{parentName:"ul"},"Create Traffic Shifter: Submit and create the traffic shifter"))),(0,n.kt)("li",{parentName:"ul"},"Features:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Random webhook URL generator (creates public URLs ending in ",(0,n.kt)("inlineCode",{parentName:"li"},"-webhook")," or ",(0,n.kt)("inlineCode",{parentName:"li"},"-public"),")"),(0,n.kt)("li",{parentName:"ul"},"Live summary panel showing configuration before creation"),(0,n.kt)("li",{parentName:"ul"},"Smart weight adjustment: When adjusting one service's weight, others are automatically recalculated"))))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Cancel Traffic Shift Dialog")),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Purpose: Permanently deactivate a traffic shifter"),(0,n.kt)("li",{parentName:"ul"},"Fields: Confirmation message"),(0,n.kt)("li",{parentName:"ul"},"Actions: Cancel (deactivate) or Close (abort)"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Traffic Shifter Detail Panel")),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Purpose: View and edit an existing traffic shifter"),(0,n.kt)("li",{parentName:"ul"},"Fields:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Description (editable)"),(0,n.kt)("li",{parentName:"ul"},"Service list with weight sliders"))),(0,n.kt)("li",{parentName:"ul"},"Actions:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Adjust weights using sliders or numeric input"),(0,n.kt)("li",{parentName:"ul"},"Add/remove services"),(0,n.kt)("li",{parentName:"ul"},"Evenly distribute traffic"),(0,n.kt)("li",{parentName:"ul"},"Reset to original values"),(0,n.kt)("li",{parentName:"ul"},"Confirm changes"))))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Traffic Shifting Input Component")),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Purpose: Manage the list of microservices and their traffic weights"),(0,n.kt)("li",{parentName:"ul"},"Features:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Service autocomplete for selecting microservices"),(0,n.kt)("li",{parentName:"ul"},"Weight slider (0-100%) with numeric input"),(0,n.kt)("li",{parentName:"ul"},"Pin functionality to lock specific weights during adjustments"),(0,n.kt)("li",{parentName:"ul"},"Delete service button (disabled when pinned)"),(0,n.kt)("li",{parentName:"ul"},"Intelligent weight redistribution algorithm"))))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Traffic Shifter Weight Input Slider")),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Purpose: Fine-tune individual service traffic percentages"),(0,n.kt)("li",{parentName:"ul"},"Features:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Slider control (0-100%)"),(0,n.kt)("li",{parentName:"ul"},"Numeric text input with percentage symbol"),(0,n.kt)("li",{parentName:"ul"},"Automatic clamping to valid range (0-100)"),(0,n.kt)("li",{parentName:"ul"},"Integrated with smart redistribution logic"))))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Traffic Table Filter Dialog")),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Purpose: Filter traffic shifters by various criteria"),(0,n.kt)("li",{parentName:"ul"},"Fields:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Status: Active/Inactive"),(0,n.kt)("li",{parentName:"ul"},"Traffic Shifter ID or name"),(0,n.kt)("li",{parentName:"ul"},"Pipeline YAML Path"),(0,n.kt)("li",{parentName:"ul"},"Timeline filters (Started/Completed with date range)"))),(0,n.kt)("li",{parentName:"ul"},"Actions: Apply filters or Cancel")))),(0,n.kt)("h3",{id:"tables--data-grids"},"Tables & Data Grids"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Current Traffic Shifting Table"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Columns:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Actions: Menu with Cancel option (for traffic shifters), Events/Logs (for microservices)"),(0,n.kt)("li",{parentName:"ul"},"Name (subdomain/service): Display name or job name (clickable to view details)"),(0,n.kt)("li",{parentName:"ul"},"Status: Active/Inactive for traffic shifters, standard status for microservices"),(0,n.kt)("li",{parentName:"ul"},"Logs: Grafana link and events/logs dialog for microservices"),(0,n.kt)("li",{parentName:"ul"},"Distribution: Traffic percentage (100% for parent, specific % for children)"),(0,n.kt)("li",{parentName:"ul"},"ID: Traffic shifter or microservice ID (hidden by default)"),(0,n.kt)("li",{parentName:"ul"},"Endpoint: Host URL for traffic shifter, service URL for microservices"),(0,n.kt)("li",{parentName:"ul"},"Port: Exposed port for microservices"),(0,n.kt)("li",{parentName:"ul"},"Pipeline YAML Path: Path to the pipeline definition"),(0,n.kt)("li",{parentName:"ul"},"Start: Start timestamp"),(0,n.kt)("li",{parentName:"ul"},"User Email: Owner email"))),(0,n.kt)("li",{parentName:"ul"},"Actions:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Click name to view details"),(0,n.kt)("li",{parentName:"ul"},"Expand/collapse traffic shifter rows to show microservices"),(0,n.kt)("li",{parentName:"ul"},"Cancel traffic shifter from actions menu"))),(0,n.kt)("li",{parentName:"ul"},"Filtering:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Filter by status, ID, name, timeline, YAML path"),(0,n.kt)("li",{parentName:"ul"},"Email filter automatically applied based on user role"),(0,n.kt)("li",{parentName:"ul"},"Filter chips display active filters"),(0,n.kt)("li",{parentName:"ul"},"Reset filters button")))))),(0,n.kt)("h2",{id:"technical-details"},"Technical Details"),(0,n.kt)("h3",{id:"graphql-operations"},"GraphQL Operations"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Queries:")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"getTrafficSplit")," - Retrieves traffic shifters with pagination, filtering, and associated microservice information including weight distribution")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Mutations:")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"createTrafficSplit")," - Creates a new traffic shifter with display name, host, service-to-weight mapping, namespace, and description"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"updateTrafficSplit")," - Updates an existing traffic shifter's display name, description, and service weight distribution"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"deactivateTrafficSplit")," - Deactivates/cancels a traffic shifter by ID, namespace, and name")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Subscriptions:")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"None")),(0,n.kt)("h3",{id:"component-structure"},"Component Structure"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Main Component: ",(0,n.kt)("inlineCode",{parentName:"li"},"components/TrafficShifting/TrafficShiftingPanel.tsx")),(0,n.kt)("li",{parentName:"ul"},"Dialogs: ",(0,n.kt)("inlineCode",{parentName:"li"},"components/TrafficShifting/Dialogs/"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"TrafficShiftingCreateDialog.tsx")," - Create new traffic shifter"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"CancelTrafficShiftDialog.tsx")," - Cancel/deactivate traffic shifter"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"TrafficShifterDetailPanel.tsx")," - View and edit traffic shifter details"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"TrafficShiftingInput.tsx")," - Manage services and weights"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"TrafficShifterWeightInputSlider.tsx")," - Weight adjustment slider"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"TrafficTableFilterDialog.tsx")," - Filter traffic shifters"))),(0,n.kt)("li",{parentName:"ul"},"Tables: ",(0,n.kt)("inlineCode",{parentName:"li"},"components/TrafficShifting/"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"TrafficShiftingTables.tsx")," - Query and data management"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"CurrentTrafficShiftingTable.tsx")," - Table display and columns"))),(0,n.kt)("li",{parentName:"ul"},"Details: ",(0,n.kt)("inlineCode",{parentName:"li"},"components/TrafficShifting/TrafficShiftingDetails.tsx"))),(0,n.kt)("h3",{id:"state-management"},"State Management"),(0,n.kt)("p",null,"The feature uses Jotai atoms for state management:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"CurrentTrafficAtom")," - Stores traffic shifter data"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"CurrentTrafficTablePageAtom")," - Current table page"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"CurrentTrafficFiltersAtom")," - Active filters"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"CurrentTrafficDataLoadingAtom")," - Loading state"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"TrafficPanelSectionAtom")," - Current panel section (table/create/details)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"TrafficDetailsValueAtom")," - Selected traffic shifter for details view"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"JobsDetailsValueAtom")," - Selected microservice for details view")),(0,n.kt)("h3",{id:"weight-distribution-algorithm"},"Weight Distribution Algorithm"),(0,n.kt)("p",null,"The traffic shifter implements an intelligent weight redistribution algorithm:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"When a user adjusts one service's weight, the system automatically adjusts other services to maintain 100% total"),(0,n.kt)("li",{parentName:"ol"},"Pinned services are excluded from automatic adjustments"),(0,n.kt)("li",{parentName:"ol"},"Adjustments prioritize services after the modified service in the list"),(0,n.kt)("li",{parentName:"ol"},"If no subsequent services exist, adjustments are distributed across all unpinned services"),(0,n.kt)("li",{parentName:"ol"},"The algorithm handles edge cases to ensure weights always total exactly 100%")),(0,n.kt)("h2",{id:"common-workflows"},"Common Workflows"),(0,n.kt)("h3",{id:"creating-a-basic-traffic-shifter"},"Creating a Basic Traffic Shifter"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},'Click "Create Traffic Shifter" button'),(0,n.kt)("li",{parentName:"ol"},"Enter a Traffic Shifter Name"),(0,n.kt)("li",{parentName:"ol"},"Enter or generate a subdomain name"),(0,n.kt)("li",{parentName:"ol"},'Add 2+ microservices using the "Add Service" button'),(0,n.kt)("li",{parentName:"ol"},"Select microservices from the dropdown"),(0,n.kt)("li",{parentName:"ol"},'Adjust traffic weights using sliders (or use "Evenly Distribute Traffic")'),(0,n.kt)("li",{parentName:"ol"},"Review the summary panel"),(0,n.kt)("li",{parentName:"ol"},'Click "Create Traffic Shifter"')),(0,n.kt)("h3",{id:"performing-a-canary-deployment"},"Performing a Canary Deployment"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Create a traffic shifter with your stable service at 95% and canary service at 5%"),(0,n.kt)("li",{parentName:"ol"},"Monitor metrics and logs for both services"),(0,n.kt)("li",{parentName:"ol"},"View details of the traffic shifter"),(0,n.kt)("li",{parentName:"ol"},"Gradually increase the canary service weight (e.g., 10%, 25%, 50%)"),(0,n.kt)("li",{parentName:"ol"},'Use "Confirm" to apply changes'),(0,n.kt)("li",{parentName:"ol"},"Continue monitoring and adjusting until canary is at 100% or rollback if issues occur")),(0,n.kt)("h3",{id:"ab-testing-multiple-versions"},"A/B Testing Multiple Versions"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Create a traffic shifter with two service versions"),(0,n.kt)("li",{parentName:"ol"},"Set equal weights (50/50) or desired distribution"),(0,n.kt)("li",{parentName:"ol"},"Pin both weights to prevent accidental changes"),(0,n.kt)("li",{parentName:"ol"},"Monitor user behavior and metrics through logs"),(0,n.kt)("li",{parentName:"ol"},"Adjust distribution based on results"),(0,n.kt)("li",{parentName:"ol"},"Remove underperforming version when test completes")),(0,n.kt)("h3",{id:"updating-traffic-distribution"},"Updating Traffic Distribution"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Click on a traffic shifter name to view details"),(0,n.kt)("li",{parentName:"ol"},"Adjust weights using sliders or numeric inputs"),(0,n.kt)("li",{parentName:"ol"},'Add new services with "+" button if needed'),(0,n.kt)("li",{parentName:"ol"},"Remove services using the delete icon"),(0,n.kt)("li",{parentName:"ol"},'Use "Evenly Distribute Traffic" for equal distribution'),(0,n.kt)("li",{parentName:"ol"},'Click "Confirm" to apply changes'),(0,n.kt)("li",{parentName:"ol"},'Use "Reset" to revert to previous configuration')),(0,n.kt)("h3",{id:"filtering-traffic-shifters"},"Filtering Traffic Shifters"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},'Click "Filter" button in the toolbar'),(0,n.kt)("li",{parentName:"ol"},"Select status (Active/Inactive)"),(0,n.kt)("li",{parentName:"ol"},"Enter traffic shifter ID or name"),(0,n.kt)("li",{parentName:"ol"},"Set timeline ranges (Started/Completed dates)"),(0,n.kt)("li",{parentName:"ol"},'Click "Filter" to apply'),(0,n.kt)("li",{parentName:"ol"},"View active filters as chips"),(0,n.kt)("li",{parentName:"ol"},'Click "Reset Filters" to clear all filters')),(0,n.kt)("h2",{id:"related-features"},"Related Features"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/developer-docs/features/jobs"},"Microservices/Pipeline Jobs")," - The backend microservices that traffic shifters route to"),(0,n.kt)("li",{parentName:"ul"},"Network/Ingress Configuration - Traffic shifters create Kubernetes VirtualService resources"),(0,n.kt)("li",{parentName:"ul"},"Stack Components - Pre-configured services that can be used behind traffic shifters")),(0,n.kt)("h2",{id:"notes--tips"},"Notes & Tips"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Subdomain Naming"),": Subdomains ending in ",(0,n.kt)("inlineCode",{parentName:"li"},"-webhook")," or ",(0,n.kt)("inlineCode",{parentName:"li"},"-public")," are publicly accessible without authentication"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Weight Pinning"),": Pin service weights when you want specific services to maintain exact percentages during adjustments"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Maximum Services"),": Up to 5 microservices can be added to a single traffic shifter"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Weight Totals"),": The system automatically ensures weights always total 100%"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Public URLs"),": Random webhook URLs can be generated for public-facing traffic shifters"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Hierarchical View"),": Expand traffic shifter rows to see individual microservice status and logs"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Grafana Integration"),": Each microservice provides a direct link to Grafana logs"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Email Filtering"),": Non-admin users automatically see only their own traffic shifters"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Namespace"),": Traffic shifters are deployed to the ",(0,n.kt)("inlineCode",{parentName:"li"},"hyperplane-pipelines")," namespace"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Virtual Service"),": Each traffic shifter creates a Kubernetes VirtualService with the name format ",(0,n.kt)("inlineCode",{parentName:"li"},"hyperplane-traffic-shifter-{id-first-6-chars}")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Smart Distribution"),": When adjusting weights, unpinned services are automatically recalculated to maintain 100% total"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Deactivation"),": Canceling a traffic shifter is permanent and immediately stops traffic routing")))}m.isMDXComponent=!0}}]);