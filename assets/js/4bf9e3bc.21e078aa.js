"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4461],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return m}});var i=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,i,r=function(e,t){if(null==e)return{};var a,i,r={},l=Object.keys(e);for(i=0;i<l.length;i++)a=l[i],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)a=l[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=i.createContext({}),c=function(e){var t=i.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):n(n({},t),e)),a},p=function(e){var t=c(e.components);return i.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=c(a),m=r,g=u["".concat(s,".").concat(m)]||u[m]||d[m]||l;return a?i.createElement(g,n(n({ref:t},p),{},{components:a})):i.createElement(g,n({ref:t},p))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,n=new Array(l);n[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,n[1]=o;for(var c=2;c<l;c++)n[c]=a[c];return i.createElement.apply(null,n)}return i.createElement.apply(null,a)}u.displayName="MDXCreateElement"},6770:function(e,t,a){a.r(t),a.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return o},metadata:function(){return c},toc:function(){return d}});var i=a(7462),r=a(3366),l=(a(7294),a(3905)),n=["components"],o={},s="Billing Projects",c={unversionedId:"developer-docs/features/billing-projects",id:"developer-docs/features/billing-projects",title:"Billing Projects",description:"Overview",source:"@site/docs/developer-docs/features/billing-projects.md",sourceDirName:"developer-docs/features",slug:"/developer-docs/features/billing-projects",permalink:"/developer-docs/features/billing-projects",draft:!1,tags:[],version:"current",lastUpdatedBy:"yevgeniy-ds",lastUpdatedAt:1761081717,formattedLastUpdatedAt:"10/21/2025",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Authorization Policies",permalink:"/developer-docs/features/authorization-policies"},next:{title:"Cloud SQL Proxy",permalink:"/developer-docs/features/cloud-sql-proxy"}},p={},d=[{value:"Overview",id:"overview",level:2},{value:"Access &amp; Location",id:"access--location",level:2},{value:"Key Capabilities",id:"key-capabilities",level:2},{value:"Create Billing Projects",id:"create-billing-projects",level:3},{value:"Deactivate Billing Projects",id:"deactivate-billing-projects",level:3},{value:"Filter Resources by Billing Project",id:"filter-resources-by-billing-project",level:3},{value:"Search and Filter",id:"search-and-filter",level:3},{value:"User Interface",id:"user-interface",level:2},{value:"Main View",id:"main-view",level:3},{value:"Dialogs &amp; Modals",id:"dialogs--modals",level:3},{value:"Tables &amp; Data Grids",id:"tables--data-grids",level:3},{value:"Technical Details",id:"technical-details",level:2},{value:"GraphQL Operations",id:"graphql-operations",level:3},{value:"Component Structure",id:"component-structure",level:3},{value:"Role-Based Access Control",id:"role-based-access-control",level:3},{value:"Data Model",id:"data-model",level:3},{value:"Common Workflows",id:"common-workflows",level:2},{value:"Creating a New Billing Project",id:"creating-a-new-billing-project",level:3},{value:"Associating Resources with Billing Projects",id:"associating-resources-with-billing-projects",level:3},{value:"Viewing Resources by Billing Project",id:"viewing-resources-by-billing-project",level:3},{value:"Deactivating a Billing Project",id:"deactivating-a-billing-project",level:3},{value:"Searching for Billing Projects",id:"searching-for-billing-projects",level:3},{value:"Related Features",id:"related-features",level:2},{value:"Notes &amp; Tips",id:"notes--tips",level:2}],u={toc:d};function m(e){var t=e.components,a=(0,r.Z)(e,n);return(0,l.kt)("wrapper",(0,i.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"billing-projects"},"Billing Projects"),(0,l.kt)("h2",{id:"overview"},"Overview"),(0,l.kt)("p",null,"The Billing Projects feature allows administrators to create and manage billing project identifiers that can be associated with various resources in the Shakudo platform. Billing projects provide a way to organize and track resources (sessions, jobs, and services) for accounting, cost allocation, and reporting purposes. Each billing project has a unique name and ID that can be referenced when creating platform resources, enabling organizations to attribute resource usage to specific projects, teams, or cost centers."),(0,l.kt)("h2",{id:"access--location"},"Access & Location"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Route"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"?panel=billing-projects")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Navigation"),": Admin \u2192 Billing Projects"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Access Requirements"),":",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"View: All authenticated users can view their own billing projects"),(0,l.kt)("li",{parentName:"ul"},"View All: ",(0,l.kt)("inlineCode",{parentName:"li"},"dashboard_admin")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"dashboard_maintainer")," roles can view all billing projects"),(0,l.kt)("li",{parentName:"ul"},"Create: ",(0,l.kt)("inlineCode",{parentName:"li"},"dashboard_admin")," role required"),(0,l.kt)("li",{parentName:"ul"},"Deactivate: ",(0,l.kt)("inlineCode",{parentName:"li"},"dashboard_admin")," role or project owner"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Feature Flags"),": None")),(0,l.kt)("h2",{id:"key-capabilities"},"Key Capabilities"),(0,l.kt)("h3",{id:"create-billing-projects"},"Create Billing Projects"),(0,l.kt)("p",null,"Create new billing project identifiers that can be assigned to platform resources. Project names must follow specific naming conventions (alphanumeric characters with dashes, underscores, and dots) and must be unique within the platform."),(0,l.kt)("h3",{id:"deactivate-billing-projects"},"Deactivate Billing Projects"),(0,l.kt)("p",null,"Soft-delete billing projects that are no longer needed. Deactivated projects remain in the system for historical tracking but cannot be used for new resource assignments. Only administrators or the project creator can deactivate a billing project."),(0,l.kt)("h3",{id:"filter-resources-by-billing-project"},"Filter Resources by Billing Project"),(0,l.kt)("p",null,"Navigate directly from a billing project to view all associated resources (sessions, immediate jobs, scheduled jobs, and services) filtered by that project ID. This provides quick access to understand which resources are attributed to each billing project."),(0,l.kt)("h3",{id:"search-and-filter"},"Search and Filter"),(0,l.kt)("p",null,"Search across billing project properties including name, ID, creator email, creation date, and deactivation date. The search functionality supports partial matches and date-based filtering."),(0,l.kt)("h2",{id:"user-interface"},"User Interface"),(0,l.kt)("h3",{id:"main-view"},"Main View"),(0,l.kt)("p",null,"The main panel displays a data grid table showing all billing projects the user has access to. Active projects are shown by default, ordered with active projects first, then by creation date (newest first). Each row includes action buttons for deactivation and a dropdown menu for filtering related resources."),(0,l.kt)("h3",{id:"dialogs--modals"},"Dialogs & Modals"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Create Billing Project Dialog")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Purpose: Create a new billing project with a unique name"),(0,l.kt)("li",{parentName:"ul"},"Fields:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Name (required): Alphanumeric string with dashes, underscores, and dots allowed"))),(0,l.kt)("li",{parentName:"ul"},"Validation Rules:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Must begin and end with alphanumeric characters"),(0,l.kt)("li",{parentName:"ul"},"Cannot contain spaces"),(0,l.kt)("li",{parentName:"ul"},"Maximum length of 128 characters"),(0,l.kt)("li",{parentName:"ul"},"Name must be unique across all billing projects"),(0,l.kt)("li",{parentName:"ul"},"Follows pattern: ",(0,l.kt)("inlineCode",{parentName:"li"},"/^[a-z0-9A-Z\\.\\-\\_\\s]+$/g")))),(0,l.kt)("li",{parentName:"ul"},"Actions: Cancel or Create"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Deactivate Billing Project Dialog")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Purpose: Confirm deactivation of a billing project"),(0,l.kt)("li",{parentName:"ul"},"Content: Displays project name and confirmation message"),(0,l.kt)("li",{parentName:"ul"},"Actions: Cancel or Deactivate")))),(0,l.kt)("h3",{id:"tables--data-grids"},"Tables & Data Grids"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("strong",{parentName:"li"},"Billing Projects Table"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Columns:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Actions")," (empty header): Deactivate button and resource filter dropdown menu"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Name"),': Project name with copy-to-clipboard functionality, displays "deactivated" chip for inactive projects'),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"ID"),": Project ID with copy-to-clipboard functionality"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Created By"),": Email address of the user who created the project"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Created On"),": Creation timestamp (format: YYYY-MM-DD HH:mm:ss)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Deactivated On")," (hidden by default): Deactivation timestamp"))),(0,l.kt)("li",{parentName:"ul"},"Row Actions:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Deactivate: Soft-deletes the project (visible only for active projects)"),(0,l.kt)("li",{parentName:"ul"},"View Menu: Dropdown to filter sessions, immediate jobs, scheduled jobs, or services by this project"))),(0,l.kt)("li",{parentName:"ul"},"Filtering: Search bar filters across all columns including ID, name, creator email, and dates"),(0,l.kt)("li",{parentName:"ul"},"Visual Styling: Deactivated projects are visually distinguished with altered row styling"),(0,l.kt)("li",{parentName:"ul"},"Toolbar: Column visibility toggle and refresh button")))),(0,l.kt)("h2",{id:"technical-details"},"Technical Details"),(0,l.kt)("h3",{id:"graphql-operations"},"GraphQL Operations"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Queries:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"getBillingProjects")," - Retrieves list of billing projects with optional filtering by user ID and active status. Results are ordered by active status (descending) then creation date (descending)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"getBillingProjectByName")," - Checks if a billing project name already exists (used for validation during creation)")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Mutations:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"createBillingProject")," - Creates a new billing project with name, creator user ID, and creator email. Returns the created project with all fields"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"deactivateBillingProject")," - Sets the active field to false for a specified billing project ID. Does not delete the project from the database")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Subscriptions:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"None")),(0,l.kt)("h3",{id:"component-structure"},"Component Structure"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Main Component: ",(0,l.kt)("inlineCode",{parentName:"li"},"/root/gitrepos/monorepo/apps/hyperplane-dashboard/components/BillingProjects/BillingProjectsPanel.tsx")),(0,l.kt)("li",{parentName:"ul"},"Dialogs:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/root/gitrepos/monorepo/apps/hyperplane-dashboard/components/BillingProjects/BillingProjectsCreateDialog.tsx")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/root/gitrepos/monorepo/apps/hyperplane-dashboard/components/BillingProjects/BillingProjectsDeactivateDialog.tsx")))),(0,l.kt)("li",{parentName:"ul"},"Supporting Components:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/root/gitrepos/monorepo/apps/hyperplane-dashboard/components/BillingProjects/BillingProjectTableMenu.tsx")))),(0,l.kt)("li",{parentName:"ul"},"Custom Hook: ",(0,l.kt)("inlineCode",{parentName:"li"},"/root/gitrepos/monorepo/apps/hyperplane-dashboard/hooks/useBillingProjects.ts")),(0,l.kt)("li",{parentName:"ul"},"Role Configuration: ",(0,l.kt)("inlineCode",{parentName:"li"},"/root/gitrepos/monorepo/apps/hyperplane-dashboard/constants/Roles/billing-projects.ts"))),(0,l.kt)("h3",{id:"role-based-access-control"},"Role-Based Access Control"),(0,l.kt)("p",null,"The feature implements granular RBAC:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Email Filter"),": Only ",(0,l.kt)("inlineCode",{parentName:"li"},"dashboard_admin")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"dashboard_maintainer")," roles can view all projects; other users see only their own projects"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Create Action"),": Restricted to ",(0,l.kt)("inlineCode",{parentName:"li"},"dashboard_admin")," role"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Deactivate Action"),": Available to ",(0,l.kt)("inlineCode",{parentName:"li"},"dashboard_admin")," role or the user who created the project")),(0,l.kt)("h3",{id:"data-model"},"Data Model"),(0,l.kt)("p",null,"Billing projects include the following fields:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"id"),": Unique identifier (string)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"name"),": Project name (string, max 128 characters)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"active"),": Boolean flag indicating if project is active"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"hyperplaneUserId"),": ID of the user who created the project"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"hyperplaneUserEmail"),": Email of the user who created the project"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"creationDate"),": Timestamp when project was created"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"deactivationTime"),": Timestamp when project was deactivated (null if active)")),(0,l.kt)("h2",{id:"common-workflows"},"Common Workflows"),(0,l.kt)("h3",{id:"creating-a-new-billing-project"},"Creating a New Billing Project"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Navigate to Admin \u2192 Billing Projects panel"),(0,l.kt)("li",{parentName:"ol"},'Click the "Create Billing Project" button (requires admin role)'),(0,l.kt)("li",{parentName:"ol"},"Enter a unique project name following the validation rules"),(0,l.kt)("li",{parentName:"ol"},'Click "Create" to save the billing project'),(0,l.kt)("li",{parentName:"ol"},"The new project appears in the table and can be immediately used for resource assignment")),(0,l.kt)("h3",{id:"associating-resources-with-billing-projects"},"Associating Resources with Billing Projects"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"When creating a session, job, or service, select the billing project from the dropdown"),(0,l.kt)("li",{parentName:"ol"},"The resource will be tagged with the billing project ID"),(0,l.kt)("li",{parentName:"ol"},"Use the billing project table menu to view all resources associated with a specific project")),(0,l.kt)("h3",{id:"viewing-resources-by-billing-project"},"Viewing Resources by Billing Project"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"In the Billing Projects table, click the dropdown menu (chevron icon) on any project row"),(0,l.kt)("li",{parentName:"ol"},"Select the resource type to filter: Sessions, Immediate Jobs, Scheduled Jobs, or Services"),(0,l.kt)("li",{parentName:"ol"},"The dashboard navigates to the respective panel with filters applied to show only resources associated with that billing project")),(0,l.kt)("h3",{id:"deactivating-a-billing-project"},"Deactivating a Billing Project"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Locate the project in the Billing Projects table"),(0,l.kt)("li",{parentName:"ol"},"Click the deactivate icon (HighlightOff) next to the project name"),(0,l.kt)("li",{parentName:"ol"},"Confirm the deactivation in the dialog"),(0,l.kt)("li",{parentName:"ol"},'The project is marked as inactive and displays a "deactivated" chip'),(0,l.kt)("li",{parentName:"ol"},"Deactivated projects cannot be used for new resource assignments but remain visible for historical tracking")),(0,l.kt)("h3",{id:"searching-for-billing-projects"},"Searching for Billing Projects"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Use the search bar at the top of the table"),(0,l.kt)("li",{parentName:"ol"},"Enter search terms matching name, ID, creator email, or date"),(0,l.kt)("li",{parentName:"ol"},"Results filter automatically with a 300ms debounce"),(0,l.kt)("li",{parentName:"ol"},"Clear the search by clicking the X icon in the search field"),(0,l.kt)("li",{parentName:"ol"},'Click "Refresh" to reload data with current filters')),(0,l.kt)("h2",{id:"related-features"},"Related Features"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/developer-docs/features/sessions"},"Sessions")," - Data science environments can be tagged with billing project IDs"),(0,l.kt)("li",{parentName:"ul"},"Immediate Jobs - Pipeline jobs can be associated with billing projects for cost tracking"),(0,l.kt)("li",{parentName:"ul"},"Scheduled Jobs - Recurring pipeline jobs can be assigned billing project identifiers"),(0,l.kt)("li",{parentName:"ul"},"Services (Microservices) - Deployed services can be tagged with billing projects")),(0,l.kt)("h2",{id:"notes--tips"},"Notes & Tips"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Billing project names cannot contain spaces - use dashes, underscores, or dots as separators"),(0,l.kt)("li",{parentName:"ul"},"Project names must start and end with alphanumeric characters"),(0,l.kt)("li",{parentName:"ul"},"Once created, billing project names cannot be changed - only deactivation is supported"),(0,l.kt)("li",{parentName:"ul"},"Deactivated projects remain in the system permanently for audit and historical tracking purposes"),(0,l.kt)("li",{parentName:"ul"},"Use descriptive naming conventions that align with your organization's cost center or project structure"),(0,l.kt)("li",{parentName:"ul"},"The dropdown menu in each table row provides quick navigation to view all resources associated with that project"),(0,l.kt)("li",{parentName:"ul"},"Search functionality supports date formats when filtering by creation or deactivation dates"),(0,l.kt)("li",{parentName:"ul"},"Copy-to-clipboard buttons are provided for both project names and IDs for easy reference"),(0,l.kt)("li",{parentName:"ul"},"When a billing project is deactivated, existing resources retain their association but new resources cannot be created with that project ID"),(0,l.kt)("li",{parentName:"ul"},"Regular users can only see and manage their own billing projects unless they have admin or maintainer roles"),(0,l.kt)("li",{parentName:"ul"},"The table displays active projects by default, but the column visibility toggle allows viewing deactivation dates for historical analysis")))}m.isMDXComponent=!0}}]);