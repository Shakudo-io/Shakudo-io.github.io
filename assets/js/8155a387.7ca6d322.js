"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2483],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),m=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=m(e.components);return i.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},c=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=m(n),d=a,g=c["".concat(s,".").concat(d)]||c[d]||p[d]||l;return n?i.createElement(g,r(r({ref:t},u),{},{components:n})):i.createElement(g,r({ref:t},u))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,r=new Array(l);r[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,r[1]=o;for(var m=2;m<l;m++)r[m]=n[m];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}c.displayName="MDXCreateElement"},5124:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return d},frontMatter:function(){return o},metadata:function(){return m},toc:function(){return p}});var i=n(7462),a=n(3366),l=(n(7294),n(3905)),r=["components"],o={},s="Environment Configs",m={unversionedId:"developer-docs/features/environment-configs",id:"developer-docs/features/environment-configs",title:"Environment Configs",description:"Overview",source:"@site/docs/developer-docs/features/environment-configs.md",sourceDirName:"developer-docs/features",slug:"/developer-docs/features/environment-configs",permalink:"/developer-docs/features/environment-configs",draft:!1,tags:[],version:"current",lastUpdatedBy:"chyuen-devsentient",lastUpdatedAt:1760392019,formattedLastUpdatedAt:"10/13/2025",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Distributed Workloads Dashboard",permalink:"/developer-docs/features/distributed-workloads-dashboard"},next:{title:"Git Repositories",permalink:"/developer-docs/features/git-repositories"}},u={},p=[{value:"Overview",id:"overview",level:2},{value:"Access &amp; Location",id:"access--location",level:2},{value:"Key Capabilities",id:"key-capabilities",level:2},{value:"Create Environment Configurations",id:"create-environment-configurations",level:3},{value:"Edit Existing Configurations",id:"edit-existing-configurations",level:3},{value:"Clone Configurations",id:"clone-configurations",level:3},{value:"View Configuration Details",id:"view-configuration-details",level:3},{value:"Delete Configurations",id:"delete-configurations",level:3},{value:"Satellite Cluster Management",id:"satellite-cluster-management",level:3},{value:"User Interface",id:"user-interface",level:2},{value:"Main View",id:"main-view",level:3},{value:"Dialogs &amp; Modals",id:"dialogs--modals",level:3},{value:"Tables &amp; Data Grids",id:"tables--data-grids",level:3},{value:"Technical Details",id:"technical-details",level:2},{value:"GraphQL Operations",id:"graphql-operations",level:3},{value:"Component Structure",id:"component-structure",level:3},{value:"Resource Validation",id:"resource-validation",level:3},{value:"Common Workflows",id:"common-workflows",level:2},{value:"Creating a Basic Environment Config",id:"creating-a-basic-environment-config",level:3},{value:"Cloning and Customizing an Existing Config",id:"cloning-and-customizing-an-existing-config",level:3},{value:"Editing Resource Limits for Existing Config",id:"editing-resource-limits-for-existing-config",level:3},{value:"Adding Custom Kubernetes Spec Fields",id:"adding-custom-kubernetes-spec-fields",level:3},{value:"Viewing Environment Config Usage",id:"viewing-environment-config-usage",level:3},{value:"Related Features",id:"related-features",level:2},{value:"Notes &amp; Tips",id:"notes--tips",level:2},{value:"Best Practices",id:"best-practices",level:3},{value:"Important Considerations",id:"important-considerations",level:3},{value:"Troubleshooting",id:"troubleshooting",level:3},{value:"Advanced Features",id:"advanced-features",level:3}],c={toc:p};function d(e){var t=e.components,n=(0,a.Z)(e,r);return(0,l.kt)("wrapper",(0,i.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"environment-configs"},"Environment Configs"),(0,l.kt)("h2",{id:"overview"},"Overview"),(0,l.kt)("p",null,'The Environment Configs panel is the central management hub for creating and managing environment configurations (also called "Pod Specs") in the Shakudo Dashboard. Environment Configs define the computational resources, container images, and runtime settings that can be used when launching sessions, running jobs, or deploying microservices. This feature allows platform administrators and users to create reusable, standardized environment templates with specific CPU, memory, GPU allocations, Docker images, and advanced Kubernetes configurations.'),(0,l.kt)("p",null,"Environment Configs serve as templates that ensure consistency across workloads while providing flexibility for different computational requirements. They can be configured for both the main Shakudo cluster and satellite clusters."),(0,l.kt)("h2",{id:"access--location"},"Access & Location"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Route"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"?panel=environment-configs")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Navigation"),": Platform Management \u2192 Environment Configs"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Access Requirements"),":",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"View: Available to all authenticated users"),(0,l.kt)("li",{parentName:"ul"},"Create/Edit/Delete: Requires specific roles (configured via ",(0,l.kt)("inlineCode",{parentName:"li"},"EnvironmentConfigRoles"),")"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Feature Flags"),": None")),(0,l.kt)("h2",{id:"key-capabilities"},"Key Capabilities"),(0,l.kt)("h3",{id:"create-environment-configurations"},"Create Environment Configurations"),(0,l.kt)("p",null,"Define new environment templates with customized resource allocations, Docker images, and Kubernetes settings. Users can specify CPU/memory limits and requests, GPU resources, node selectors, environment variables, volumes, tolerations, and custom Kubernetes spec fields. Configurations can include a README for documentation purposes."),(0,l.kt)("h3",{id:"edit-existing-configurations"},"Edit Existing Configurations"),(0,l.kt)("p",null,"Modify environment configurations to update resource limits, change Docker images, or adjust Kubernetes settings. When an environment config is updated, new jobs and sessions will use the updated version, while in-progress jobs and sessions continue using the old version. Services using the updated config are automatically restarted."),(0,l.kt)("h3",{id:"clone-configurations"},"Clone Configurations"),(0,l.kt)("p",null,"Duplicate existing environment configs to quickly create variations with similar settings. This accelerates the creation of new configs by starting with a proven template."),(0,l.kt)("h3",{id:"view-configuration-details"},"View Configuration Details"),(0,l.kt)("p",null,"Inspect complete environment config specifications including all resource settings, environment variables, custom fields, volumes, tolerations, and node selectors. The details view provides links to view all sessions, jobs, and services using the configuration."),(0,l.kt)("h3",{id:"delete-configurations"},"Delete Configurations"),(0,l.kt)("p",null,"Remove environment configs that are no longer needed. This action is permanent and cannot be reversed. Shakudo default environment configs cannot be deleted."),(0,l.kt)("h3",{id:"satellite-cluster-management"},"Satellite Cluster Management"),(0,l.kt)("p",null,"Create and manage environment configs specifically for satellite clusters, enabling distributed workload execution across multiple Kubernetes clusters."),(0,l.kt)("h2",{id:"user-interface"},"User Interface"),(0,l.kt)("h3",{id:"main-view"},"Main View"),(0,l.kt)("p",null,"The Environment Configs panel features a tabbed interface with two primary views:"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Table View"),": Displays all environment configs in a searchable data grid with the following columns:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Actions column (clone, edit, delete)"),(0,l.kt)("li",{parentName:"ul"},"Name (clickable to view details)"),(0,l.kt)("li",{parentName:"ul"},"Owner (shows creator email or Shakudo logo for defaults)"),(0,l.kt)("li",{parentName:"ul"},"Display Name"),(0,l.kt)("li",{parentName:"ul"},"Image (Docker image URL with copy functionality)"),(0,l.kt)("li",{parentName:"ul"},"CPU Limit and Request"),(0,l.kt)("li",{parentName:"ul"},"Memory Limit and Request"),(0,l.kt)("li",{parentName:"ul"},"GPU (type and count)"),(0,l.kt)("li",{parentName:"ul"},"Node Selector (key-value pairs)"),(0,l.kt)("li",{parentName:"ul"},"ID (hidden by default)")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Satellite Cluster View"),": Similar table specifically for managing environment configs on satellite clusters. Requires selecting a satellite cluster from a dropdown before viewing or creating configs."),(0,l.kt)("p",null,"The table supports:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Full-text search across all properties"),(0,l.kt)("li",{parentName:"ul"},"Column visibility customization"),(0,l.kt)("li",{parentName:"ul"},"Refresh functionality"),(0,l.kt)("li",{parentName:"ul"},"Pagination (20 items per page)"),(0,l.kt)("li",{parentName:"ul"},"Visual indicators for configs with custom fields")),(0,l.kt)("h3",{id:"dialogs--modals"},"Dialogs & Modals"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Create Environment Config Dialog")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Purpose: Create new environment configurations from scratch"),(0,l.kt)("li",{parentName:"ul"},"Tabs: General, Resources, Advanced, Readme"),(0,l.kt)("li",{parentName:"ul"},"Fields:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"General Tab"),": Name, Internal Name (auto-generated, Kubernetes-compliant), Description, Image URL"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Resources Tab"),": CPU Request/Limit, Memory Request/Limit, GPU Type, GPU Count"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Advanced Tab"),": Volumes (YAML), Volume Mounts (YAML), Tolerations (YAML), Node Selector Key/Value, Environment Variables (key-value pairs), Custom Fields (spec path overrides)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Readme Tab"),": Markdown editor for documentation"))),(0,l.kt)("li",{parentName:"ul"},"Actions: Create Environment Config, Cancel, View Equivalent GraphQL Mutation"),(0,l.kt)("li",{parentName:"ul"},"Features: Real-time validation, auto-generation of internal names, live summary preview"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Edit Environment Config Dialog")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Purpose: Modify existing environment configurations"),(0,l.kt)("li",{parentName:"ul"},"Fields: Same as Create dialog, but Internal Name is disabled (immutable)"),(0,l.kt)("li",{parentName:"ul"},"Actions: Save Changes, Cancel, View Equivalent GraphQL Mutation"),(0,l.kt)("li",{parentName:"ul"},"Features: Confirmation dialog explaining impact of changes (can be disabled), dirty state detection"),(0,l.kt)("li",{parentName:"ul"},"Note: Displays warning when changes will restart services using this config"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Environment Config Details Dialog")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Purpose: View comprehensive information about a specific environment config"),(0,l.kt)("li",{parentName:"ul"},"Sections:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Summary panel with all resource specifications"),(0,l.kt)("li",{parentName:"ul"},"Environment Variables table"),(0,l.kt)("li",{parentName:"ul"},"Custom Fields list"),(0,l.kt)("li",{parentName:"ul"},"Volumes, Volume Mounts, and Tolerations viewers"),(0,l.kt)("li",{parentName:"ul"},"README.md display"),(0,l.kt)("li",{parentName:"ul"},"Quick navigation buttons to view associated Sessions, Jobs, and Services"))),(0,l.kt)("li",{parentName:"ul"},"Actions: Back, View Equivalent GraphQL Mutation"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Delete Confirmation Dialog")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Purpose: Confirm permanent deletion of an environment config"),(0,l.kt)("li",{parentName:"ul"},"Fields: Warning message with config name"),(0,l.kt)("li",{parentName:"ul"},"Actions: Delete, Cancel"),(0,l.kt)("li",{parentName:"ul"},"Warning: Action is irreversible"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Custom Field Add/Edit Dialog")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Purpose: Add or edit custom Kubernetes spec field overrides"),(0,l.kt)("li",{parentName:"ul"},"Fields:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Path (autocomplete with examples like ",(0,l.kt)("inlineCode",{parentName:"li"},"spec.nodeSelector"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"spec.tolerations"),")"),(0,l.kt)("li",{parentName:"ul"},"Value (YAML editor with syntax highlighting)"))),(0,l.kt)("li",{parentName:"ul"},"Actions: Save, Cancel"),(0,l.kt)("li",{parentName:"ul"},'Features: Path validation (must start with "spec."), backend validation of path and value, example field suggestions'),(0,l.kt)("li",{parentName:"ul"},"Note: Can be opened in view-only mode from details view"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Custom Field Container")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Purpose: Display individual custom field entries"),(0,l.kt)("li",{parentName:"ul"},"Shows: Field path with edit and delete actions"),(0,l.kt)("li",{parentName:"ul"},"Features: Inline editing and removal")))),(0,l.kt)("h3",{id:"tables--data-grids"},"Tables & Data Grids"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Environment Configs Table")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Columns: Actions, Name, Owner, Display Name, Image, CPU Limit, CPU Request, Memory Limit, Memory Request, GPU, Node Selector, ID"),(0,l.kt)("li",{parentName:"ul"},"Actions: Clone (opens Create dialog with pre-filled values), Edit, Delete"),(0,l.kt)("li",{parentName:"ul"},"Filtering: Real-time search across all columns"),(0,l.kt)("li",{parentName:"ul"},"Special Features:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Visual indicator (info icon) for configs with custom fields"),(0,l.kt)("li",{parentName:"ul"},"Shakudo logo icon for default system configs"),(0,l.kt)("li",{parentName:"ul"},"Copy-to-clipboard for Image URL, Node Selector, and ID"),(0,l.kt)("li",{parentName:"ul"},"Clickable names open details dialog"))),(0,l.kt)("li",{parentName:"ul"},"Pagination: 20 items per page"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Satellite Environment Configs Table")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Columns: Same as main table"),(0,l.kt)("li",{parentName:"ul"},"Context: Requires satellite cluster selection"),(0,l.kt)("li",{parentName:"ul"},"Actions: Same as main table but operations apply to selected satellite cluster"),(0,l.kt)("li",{parentName:"ul"},"Note: Independent from main cluster configs")))),(0,l.kt)("h2",{id:"technical-details"},"Technical Details"),(0,l.kt)("h3",{id:"graphql-operations"},"GraphQL Operations"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Queries:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"getEnvironmentConfigs")," - Retrieves all environment configs with optional search filtering across multiple fields (name, description, owner, resources, image, etc.)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"GetPodSpecNameDocument")," - Validates that a proposed environment config name is available"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"validatePathAndValue")," - Validates custom field path and YAML value before saving"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"GetSatelliteEnvironmentConfigsDocument")," - Retrieves environment configs for a specific satellite cluster")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Mutations:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"createEnvironmentConfig")," - Creates a new environment configuration with all specified parameters including custom fields"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"updateEnvironmentConfig")," - Updates an existing environment config, triggering service restarts if applicable"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"deleteEnvironmentConfig")," - Permanently deletes an environment configuration by ID"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"createSatelliteEnvironmentConfig")," - Creates environment config on a satellite cluster"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"updateSatelliteEnvironmentConfig")," - Updates satellite cluster environment config"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"deleteSatelliteEnvironmentConfig")," - Deletes satellite cluster environment config")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Subscriptions:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"None")),(0,l.kt)("h3",{id:"component-structure"},"Component Structure"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Main Component: ",(0,l.kt)("inlineCode",{parentName:"li"},"/root/gitrepos/monorepo/apps/hyperplane-dashboard/components/EnvironmentConfigs/EnvironmentConfigPanel.tsx")),(0,l.kt)("li",{parentName:"ul"},"Table Component: ",(0,l.kt)("inlineCode",{parentName:"li"},"/root/gitrepos/monorepo/apps/hyperplane-dashboard/components/EnvironmentConfigs/EnvironmentConfigTables.tsx")),(0,l.kt)("li",{parentName:"ul"},"Dialogs:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/root/gitrepos/monorepo/apps/hyperplane-dashboard/components/EnvironmentConfigs/Dialogs/EnvironmentConfigCreateDialog.tsx")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/root/gitrepos/monorepo/apps/hyperplane-dashboard/components/EnvironmentConfigs/Dialogs/EnvironmentConfigEditDialog.tsx")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/root/gitrepos/monorepo/apps/hyperplane-dashboard/components/EnvironmentConfigs/Dialogs/EnvironmentConfigDetailsDialog.tsx")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/root/gitrepos/monorepo/apps/hyperplane-dashboard/components/EnvironmentConfigs/Dialogs/EnvironmentConfigDeleteDialog.tsx")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/root/gitrepos/monorepo/apps/hyperplane-dashboard/components/EnvironmentConfigs/Dialogs/EnvironmentConfigCustomFieldAddOrEditDialog.tsx")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/root/gitrepos/monorepo/apps/hyperplane-dashboard/components/EnvironmentConfigs/Dialogs/EnvironmentConfigCustomFieldContainer.tsx")))),(0,l.kt)("li",{parentName:"ul"},"State Management: Jotai atoms for panel navigation and data sharing")),(0,l.kt)("h3",{id:"resource-validation"},"Resource Validation"),(0,l.kt)("p",null,"The feature includes comprehensive validation for Kubernetes resource specifications:"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"CPU Resources:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'Accepts numeric values or millicores (e.g., "2", "2000m")'),(0,l.kt)("li",{parentName:"ul"},"Valid units: 'm' (millicores)"),(0,l.kt)("li",{parentName:"ul"},"Validates that values are positive and within safe integer bounds")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Memory Resources:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Accepts binary units: Ki, Mi, Gi, Ti, Pi, Ei (power of 1024)"),(0,l.kt)("li",{parentName:"ul"},"Accepts decimal units: k, M, G, T, P, E (power of 1000)"),(0,l.kt)("li",{parentName:"ul"},"Validates that values are positive and within safe integer bounds"),(0,l.kt)("li",{parentName:"ul"},'Example: "2Gi", "2048Mi", "2000000k"')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"GPU Resources:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Numeric values only (count of GPUs)"),(0,l.kt)("li",{parentName:"ul"},"Supported types: nvidia.com/gpu, nvidia.com/mig-* (MIG types currently disabled)")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Internal Name Validation:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Must be 1-63 characters"),(0,l.kt)("li",{parentName:"ul"},"Lowercase alphanumeric with dashes and dots"),(0,l.kt)("li",{parentName:"ul"},"Must start and end with alphanumeric character"),(0,l.kt)("li",{parentName:"ul"},"No spaces allowed"),(0,l.kt)("li",{parentName:"ul"},"Must be unique across all environment configs"),(0,l.kt)("li",{parentName:"ul"},"Real-time availability checking")),(0,l.kt)("h2",{id:"common-workflows"},"Common Workflows"),(0,l.kt)("h3",{id:"creating-a-basic-environment-config"},"Creating a Basic Environment Config"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Navigate to Environment Configs panel"),(0,l.kt)("li",{parentName:"ol"},'Click "Create Environment Config" button'),(0,l.kt)("li",{parentName:"ol"},"Fill in General tab:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},'Enter Name (e.g., "Python ML Environment")'),(0,l.kt)("li",{parentName:"ul"},"Verify auto-generated Internal Name or customize"),(0,l.kt)("li",{parentName:"ul"},"Add Description"),(0,l.kt)("li",{parentName:"ul"},"Specify Image URL (Docker container)"))),(0,l.kt)("li",{parentName:"ol"},"Configure Resources tab:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},'Set CPU Request and Limit (e.g., "2", "4")'),(0,l.kt)("li",{parentName:"ul"},'Set Memory Request and Limit (e.g., "4Gi", "8Gi")'),(0,l.kt)("li",{parentName:"ul"},"Optionally configure GPU if needed"))),(0,l.kt)("li",{parentName:"ol"},"(Optional) Configure Advanced settings:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Add environment variables"),(0,l.kt)("li",{parentName:"ul"},"Configure volumes, mounts, tolerations"),(0,l.kt)("li",{parentName:"ul"},"Set node selectors for specific hardware"))),(0,l.kt)("li",{parentName:"ol"},"(Optional) Add README documentation in Markdown"),(0,l.kt)("li",{parentName:"ol"},"Review summary panel on the right"),(0,l.kt)("li",{parentName:"ol"},'Click "Create Environment Config"')),(0,l.kt)("h3",{id:"cloning-and-customizing-an-existing-config"},"Cloning and Customizing an Existing Config"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Find the environment config you want to clone in the table"),(0,l.kt)("li",{parentName:"ol"},"Click the Clone icon in the Actions column"),(0,l.kt)("li",{parentName:"ol"},"Create dialog opens with all fields pre-populated"),(0,l.kt)("li",{parentName:"ol"},"Modify the Name and Internal Name (required - must be unique)"),(0,l.kt)("li",{parentName:"ol"},"Adjust any other settings as needed (resources, image, etc.)"),(0,l.kt)("li",{parentName:"ol"},'Click "Create Environment Config"')),(0,l.kt)("h3",{id:"editing-resource-limits-for-existing-config"},"Editing Resource Limits for Existing Config"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Locate the environment config in the table"),(0,l.kt)("li",{parentName:"ol"},"Click the Edit icon in the Actions column"),(0,l.kt)("li",{parentName:"ol"},"Navigate to the Resources tab"),(0,l.kt)("li",{parentName:"ol"},"Update CPU and/or Memory limits and requests"),(0,l.kt)("li",{parentName:"ol"},"Review changes in the summary panel"),(0,l.kt)("li",{parentName:"ol"},'Click "Save Changes"'),(0,l.kt)("li",{parentName:"ol"},"Confirm in the dialog (explains that services will restart)"),(0,l.kt)("li",{parentName:"ol"},"Changes are applied to new sessions/jobs immediately; services restart automatically")),(0,l.kt)("h3",{id:"adding-custom-kubernetes-spec-fields"},"Adding Custom Kubernetes Spec Fields"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Open Environment Config in Edit or Create mode"),(0,l.kt)("li",{parentName:"ol"},"Navigate to Advanced tab"),(0,l.kt)("li",{parentName:"ol"},'Scroll to "Custom Fields" section'),(0,l.kt)("li",{parentName:"ol"},"Click the Add button"),(0,l.kt)("li",{parentName:"ol"},"In the Custom Field dialog:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},'Enter or select a spec path (e.g., "spec.nodeSelector")'),(0,l.kt)("li",{parentName:"ul"},"Enter the YAML value in the editor"),(0,l.kt)("li",{parentName:"ul"},"Use provided examples for common patterns"))),(0,l.kt)("li",{parentName:"ol"},"Click Save to validate and add the field"),(0,l.kt)("li",{parentName:"ol"},"Repeat for additional custom fields"),(0,l.kt)("li",{parentName:"ol"},"Save the environment config")),(0,l.kt)("h3",{id:"viewing-environment-config-usage"},"Viewing Environment Config Usage"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Click on any environment config name in the table"),(0,l.kt)("li",{parentName:"ol"},"Details dialog opens showing full configuration"),(0,l.kt)("li",{parentName:"ol"},"Scroll to the bottom of the right panel"),(0,l.kt)("li",{parentName:"ol"},'Click "View Sessions", "View Jobs", or "View Services"'),(0,l.kt)("li",{parentName:"ol"},"Navigates to respective panel with pre-filtered results showing only items using this config")),(0,l.kt)("h2",{id:"related-features"},"Related Features"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Sessions Panel"),": Uses environment configs to determine session resources and container images"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Jobs Panel"),": Immediate and scheduled jobs select environment configs for execution environment"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Services Panel"),": Microservices use environment configs for deployment specifications"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Satellite Clusters"),": Manages distributed environment configs across multiple Kubernetes clusters")),(0,l.kt)("h2",{id:"notes--tips"},"Notes & Tips"),(0,l.kt)("h3",{id:"best-practices"},"Best Practices"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Naming Convention"),': Use descriptive names that indicate the purpose and resource level (e.g., "python-ml-gpu-large", "spark-processing-xlarge")'),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Documentation"),": Always fill in the README tab to explain the intended use case, pre-installed packages, and any special configurations"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Resource Requests vs Limits"),": Set requests to guaranteed minimum resources and limits to prevent resource overconsumption"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"GPU Configurations"),": Ensure node selectors and tolerations are properly configured to schedule on GPU-enabled nodes"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Testing"),": Clone production configs for testing changes before modifying the original"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Version Control"),': Use descriptive names with version indicators when creating multiple variations (e.g., "python-ml-v2")')),(0,l.kt)("h3",{id:"important-considerations"},"Important Considerations"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Immutability"),": The Internal Name (Kubernetes object name) cannot be changed after creation"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Shakudo Defaults"),": System-provided environment configs (marked with Shakudo logo) cannot be edited or deleted"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Service Restarts"),": Editing an environment config automatically restarts all services using it, causing brief downtime"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Custom Fields"),": Custom fields override existing spec values and can create or update nested Kubernetes fields - use with caution"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Resource Availability"),": Ensure cluster has available resources matching your config specifications"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Image Accessibility"),": Verify Docker images are accessible from the cluster (check registry credentials if using private images)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Validation"),": Backend validates custom field paths and values - ensure YAML syntax is correct"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Satellite Clusters"),": Satellite environment configs are completely separate from main cluster configs")),(0,l.kt)("h3",{id:"troubleshooting"},"Troubleshooting"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},'"Environment Config name is already used"'),": Choose a different Internal Name - this field must be globally unique"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},'"Please enter a valid CPU unit"'),': Use numeric values or millicores (e.g., "2" or "2000m")'),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},'"Please enter a valid memory unit"'),': Use Kubernetes memory units (e.g., "4Gi", "4096Mi")'),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Custom field validation errors"),': Ensure path starts with "spec." and YAML value is valid'),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},'"Insufficient Permissions"'),": Contact administrator for Environment Config creation/edit roles"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Services not using updated config"),": Services automatically restart, but check service panel for any errors during restart"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"GPU scheduling failures"),": Verify node selectors, tolerations, and GPU resource types match cluster configuration")),(0,l.kt)("h3",{id:"advanced-features"},"Advanced Features"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Equivalent GraphQL Mutation"),': Every create/edit dialog provides a "View Equivalent GraphQL Mutation" button to see the exact API call being made - useful for automation and scripting'),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Environment Variables"),": Support key-value pairs that are injected as environment variables into pods"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Custom Fields"),": Advanced feature allowing direct Kubernetes spec field overrides using path notation (e.g., ",(0,l.kt)("inlineCode",{parentName:"li"},"spec.containers[0].securityContext.runAsUser"),")"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Tutorial Video"),': Click the tutorial icon next to "Environment Configs" title to watch usage guide'),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Markdown README"),": Supports full Markdown syntax including code blocks, links, and formatting for comprehensive documentation")))}d.isMDXComponent=!0}}]);