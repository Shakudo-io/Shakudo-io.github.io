"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[626],{3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return m}});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var o=n.createContext({}),c=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},d=function(e){var t=c(e.components);return n.createElement(o.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,o=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=c(a),m=i,h=u["".concat(o,".").concat(m)]||u[m]||p[m]||r;return a?n.createElement(h,l(l({ref:t},d),{},{components:a})):n.createElement(h,l({ref:t},d))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,l=new Array(r);l[0]=u;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:i,l[1]=s;for(var c=2;c<r;c++)l[c]=a[c];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},8763:function(e,t,a){a.r(t),a.d(t,{assets:function(){return d},contentTitle:function(){return o},default:function(){return m},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return p}});var n=a(7462),i=a(3366),r=(a(7294),a(3905)),l=["components"],s={},o="Access Logs (SecOps)",c={unversionedId:"developer-docs/features/secops",id:"developer-docs/features/secops",title:"Access Logs (SecOps)",description:"Overview",source:"@site/docs/developer-docs/features/secops.md",sourceDirName:"developer-docs/features",slug:"/developer-docs/features/secops",permalink:"/developer-docs/features/secops",draft:!1,tags:[],version:"current",lastUpdatedBy:"yevgeniy-ds",lastUpdatedAt:1761081717,formattedLastUpdatedAt:"10/21/2025",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Scheduled Jobs",permalink:"/developer-docs/features/scheduled-jobs"},next:{title:"Secrets Management",permalink:"/developer-docs/features/secrets"}},d={},p=[{value:"Overview",id:"overview",level:2},{value:"Access &amp; Location",id:"access--location",level:2},{value:"Key Capabilities",id:"key-capabilities",level:2},{value:"User Access Tracking",id:"user-access-tracking",level:3},{value:"Grafana Dashboard Integration",id:"grafana-dashboard-integration",level:3},{value:"Security Auditing",id:"security-auditing",level:3},{value:"User Interface",id:"user-interface",level:2},{value:"Main View",id:"main-view",level:3},{value:"Dialogs &amp; Modals",id:"dialogs--modals",level:3},{value:"Tables &amp; Data Grids",id:"tables--data-grids",level:3},{value:"Technical Details",id:"technical-details",level:2},{value:"GraphQL Operations",id:"graphql-operations",level:3},{value:"Component Structure",id:"component-structure",level:3},{value:"External Dependencies",id:"external-dependencies",level:3},{value:"Implementation Details",id:"implementation-details",level:3},{value:"Common Workflows",id:"common-workflows",level:2},{value:"Viewing Access Logs",id:"viewing-access-logs",level:3},{value:"Advanced Filtering and Analysis",id:"advanced-filtering-and-analysis",level:3},{value:"Security Audit Investigation",id:"security-audit-investigation",level:3},{value:"Related Features",id:"related-features",level:2},{value:"Notes &amp; Tips",id:"notes--tips",level:2}],u={toc:p};function m(e){var t=e.components,a=(0,i.Z)(e,l);return(0,r.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"access-logs-secops"},"Access Logs (SecOps)"),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,"The Access Logs panel provides security operations (SecOps) capabilities for tracking and analyzing user access patterns across the Shakudo platform. This feature integrates with OAuth2 Proxy logs to monitor which users have accessed specific domains, offering visibility into authentication and access activities for security auditing and compliance purposes."),(0,r.kt)("h2",{id:"access--location"},"Access & Location"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Route"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"?panel=secops")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Navigation"),": Admin \u2192 Access Logs"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Access Requirements"),":",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Dashboard admin role (",(0,r.kt)("inlineCode",{parentName:"li"},"rbacInfo[0]")," must be true)"),(0,r.kt)("li",{parentName:"ul"},"User must be part of the ",(0,r.kt)("inlineCode",{parentName:"li"},"dashboard-admin")," role"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Feature Flags"),":",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"secOpsEnabled")," - Must be set via environment variable ",(0,r.kt)("inlineCode",{parentName:"li"},"HYPERPLANE_DASHBOARD_SECOPS_ENABLED=true"))))),(0,r.kt)("h2",{id:"key-capabilities"},"Key Capabilities"),(0,r.kt)("h3",{id:"user-access-tracking"},"User Access Tracking"),(0,r.kt)("p",null,"Monitor OAuth2 Proxy logs to track user authentication and access patterns across domains. This provides a centralized view of who is accessing which services and when."),(0,r.kt)("h3",{id:"grafana-dashboard-integration"},"Grafana Dashboard Integration"),(0,r.kt)("p",null,"Direct integration with a dedicated Grafana dashboard (",(0,r.kt)("inlineCode",{parentName:"p"},"secops-oauth2-proxy"),") that provides advanced filtering, visualization, and analysis capabilities for access logs."),(0,r.kt)("h3",{id:"security-auditing"},"Security Auditing"),(0,r.kt)("p",null,"Enable security teams to audit user access patterns, identify unauthorized access attempts, and maintain compliance with security policies."),(0,r.kt)("h2",{id:"user-interface"},"User Interface"),(0,r.kt)("h3",{id:"main-view"},"Main View"),(0,r.kt)("p",null,"The panel displays an embedded Grafana dashboard in kiosk mode (fullscreen, no Grafana navigation chrome) that shows OAuth2 Proxy logs. The view includes:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Title Section"),': "User Access Logs" with descriptive text explaining the panel\'s purpose'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Embedded Dashboard"),": Full-height iframe displaying the Grafana SecOps dashboard"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"External Link Button"),": Icon button (open in new tab) to access the full Grafana dashboard with filtering capabilities")),(0,r.kt)("p",null,"The interface is designed to provide immediate visibility into access logs while offering a path to more advanced analysis in Grafana."),(0,r.kt)("h3",{id:"dialogs--modals"},"Dialogs & Modals"),(0,r.kt)("p",null,"No dialogs or modals are implemented in this panel. All interactions occur through the embedded Grafana dashboard or by opening the full Grafana interface in a new tab."),(0,r.kt)("h3",{id:"tables--data-grids"},"Tables & Data Grids"),(0,r.kt)("p",null,"This panel does not implement its own tables. All data visualization and tabular display is handled by the embedded Grafana dashboard, which provides:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"OAuth2 Proxy log entries"),(0,r.kt)("li",{parentName:"ul"},"User access events"),(0,r.kt)("li",{parentName:"ul"},"Domain access patterns"),(0,r.kt)("li",{parentName:"ul"},"Timestamp and authentication details")),(0,r.kt)("p",null,'For filtering and detailed analysis, users must click the "Open in new tab" button to access the full Grafana dashboard.'),(0,r.kt)("h2",{id:"technical-details"},"Technical Details"),(0,r.kt)("h3",{id:"graphql-operations"},"GraphQL Operations"),(0,r.kt)("p",null,"This panel does not use any GraphQL operations. It relies entirely on Grafana for data retrieval and visualization."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Queries:")," None"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Mutations:")," None"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Subscriptions:")," None"),(0,r.kt)("h3",{id:"component-structure"},"Component Structure"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Main Component: ",(0,r.kt)("inlineCode",{parentName:"li"},"/root/gitrepos/monorepo/apps/hyperplane-dashboard/components/SecOps/SecOpsPanel.tsx")),(0,r.kt)("li",{parentName:"ul"},"Dialogs: None"),(0,r.kt)("li",{parentName:"ul"},"Tables: None (data visualization handled by Grafana)")),(0,r.kt)("h3",{id:"external-dependencies"},"External Dependencies"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Grafana"),": Dashboard hosted at ",(0,r.kt)("inlineCode",{parentName:"li"},"https://grafana.{domain}/d/ddv992wudcvlsd/secops-oauth2-proxy")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"OAuth2 Proxy"),": Source of authentication and access logs"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Domain Context"),": Uses platform domain from ",(0,r.kt)("inlineCode",{parentName:"li"},"PlatformParametersContext")," to construct Grafana URLs")),(0,r.kt)("h3",{id:"implementation-details"},"Implementation Details"),(0,r.kt)("p",null,"The component uses:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"dayjs")," for time handling (with relativeTime, timezone, and UTC plugins loaded but not actively used in current implementation)"),(0,r.kt)("li",{parentName:"ul"},"Material-UI components for layout and interaction (Stack, Typography, IconButton, Tooltip)"),(0,r.kt)("li",{parentName:"ul"},"React Icons (MdOpenInNew) for the external link icon"),(0,r.kt)("li",{parentName:"ul"},"Context API to access platform domain configuration")),(0,r.kt)("h2",{id:"common-workflows"},"Common Workflows"),(0,r.kt)("h3",{id:"viewing-access-logs"},"Viewing Access Logs"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Navigate to Admin \u2192 Access Logs from the main navigation"),(0,r.kt)("li",{parentName:"ol"},"The embedded Grafana dashboard loads automatically showing recent OAuth2 Proxy logs"),(0,r.kt)("li",{parentName:"ol"},"Review access patterns in the default view")),(0,r.kt)("h3",{id:"advanced-filtering-and-analysis"},"Advanced Filtering and Analysis"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},'From the Access Logs panel, click the "Open in new tab" button (icon with tooltip)'),(0,r.kt)("li",{parentName:"ol"},"The full Grafana dashboard opens in a new browser tab"),(0,r.kt)("li",{parentName:"ol"},"Use Grafana's native filtering, time range selection, and query capabilities"),(0,r.kt)("li",{parentName:"ol"},"Export or share specific views as needed")),(0,r.kt)("h3",{id:"security-audit-investigation"},"Security Audit Investigation"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Access the SecOps panel to get an overview of recent access activity"),(0,r.kt)("li",{parentName:"ol"},"Identify any suspicious patterns or unauthorized access attempts"),(0,r.kt)("li",{parentName:"ol"},"Open the full Grafana dashboard for detailed investigation"),(0,r.kt)("li",{parentName:"ol"},"Use time range filters to narrow down specific incidents"),(0,r.kt)("li",{parentName:"ol"},"Cross-reference with user management and authentication systems")),(0,r.kt)("h2",{id:"related-features"},"Related Features"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Users Panel")," - Manage user accounts and roles"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Keycloak Integration")," - Authentication and authorization system that generates the OAuth2 Proxy logs"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Admin Panels")," - Other administrative features requiring dashboard-admin role")),(0,r.kt)("h2",{id:"notes--tips"},"Notes & Tips"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The embedded Grafana dashboard uses kiosk mode (",(0,r.kt)("inlineCode",{parentName:"li"},"?kiosk")," parameter) to provide a cleaner, full-screen view without Grafana's standard navigation"),(0,r.kt)("li",{parentName:"ul"},"For complex filtering operations, always use the full Grafana dashboard (click the open in new tab button)"),(0,r.kt)("li",{parentName:"ul"},"Access to this panel requires both the dashboard-admin role and the secOpsEnabled feature flag"),(0,r.kt)("li",{parentName:"ul"},"The Grafana dashboard URL is dynamically constructed based on the platform's domain configuration"),(0,r.kt)("li",{parentName:"ul"},"The panel is lazy-loaded for performance optimization"),(0,r.kt)("li",{parentName:"ul"},"Time handling libraries (dayjs with plugins) are imported but not currently used in the component, suggesting potential future enhancements for time-based filtering or display")))}m.isMDXComponent=!0}}]);