<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-developer-docs/features/traffic-shifting">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Shakudo Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Shakudo Docs Atom Feed"><title data-rh="true">Traffic Shifting | Shakudo Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/developer-docs/features/traffic-shifting"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Traffic Shifting | Shakudo Docs"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/developer-docs/features/traffic-shifting"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/developer-docs/features/traffic-shifting" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/developer-docs/features/traffic-shifting" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.ce3a0bdd.css">
<link rel="preload" href="/assets/js/runtime~main.1f356c05.js" as="script">
<link rel="preload" href="/assets/js/main.f10f344c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/home"><div class="navbar__logo"><img src="/img/logo.svg" alt="Shakudo logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Shakudo logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Shakudo Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/home">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/devsentient/examples" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/home">Welcome to Shakudo</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/shakudo-platform">Shakudo Platform</a><button aria-label="Toggle the collapsible sidebar category &#x27;Shakudo Platform&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed hidden"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/shakudo-stack-components">Shakudo Stack Components</a><button aria-label="Toggle the collapsible sidebar category &#x27;Shakudo Stack Components&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/legacy/public-logo-cdn-setup">Legacy</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/category/developer-docs">Developer Docs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developer Docs&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/intro">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/category/platform-features">Platform Features</a><button aria-label="Toggle the collapsible sidebar category &#x27;Platform Features&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/alert-targets">Alert Targets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/apps-catalogue">Apps Catalogue (Stack Components Directory)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/authorization-policies">Authorization Policies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/billing-projects">Billing Projects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/cloud-sql-proxy">Cloud SQL Proxy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/container-images">Container Images</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/data-stack-graph">Data Stack Graph</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/datalake">Datalake (Shakudo Data Lakehouse)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/distributed-workloads-dashboard">Distributed Workloads Dashboard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/environment-configs">Environment Configs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/git-repositories">Git Repositories</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/home">Home Panel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/jobs">Immediate Jobs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/outbound-traffic-access">Outbound Traffic Access</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/persistent-volumes">Persistent Volumes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/plugins">Plugins Panel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/satellite-clusters">Satellite Clusters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/scheduled-jobs">Scheduled Jobs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/secops">Access Logs (SecOps)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/secrets">Secrets Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/service-accounts">Service Accounts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/services">Microservices (Services Panel)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/sessions">Sessions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/shakudo-sync">Shakudo Sync</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/stack-components">Stack Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/developer-docs/features/traffic-shifting">Traffic Shifting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/triton-inference-server">Triton Inference Server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/tutorials">Tutorials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/users">User Management</a></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/developer-docs"><span itemprop="name">Developer Docs</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/platform-features"><span itemprop="name">Platform Features</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Traffic Shifting</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Traffic Shifting</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a class="hash-link" href="#overview" title="Direct link to heading">​</a></h2><p>Traffic Shifting (also called Traffic Management) is a feature that enables users to distribute network traffic across multiple microservices using weighted routing. It creates a virtual service (traffic shifter) that acts as a single endpoint and intelligently distributes incoming requests to multiple backend microservices based on configurable percentage weights. This is useful for A/B testing, canary deployments, blue-green deployments, and gradual rollouts of new service versions.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="access--location">Access &amp; Location<a class="hash-link" href="#access--location" title="Direct link to heading">​</a></h2><ul><li><strong>Route</strong>: <code>?panel=traffic-shifting</code></li><li><strong>Navigation</strong>: Network → Traffic Shifting</li><li><strong>Access Requirements</strong>:<ul><li>Users can view their own traffic shifters</li><li>Admin roles can view all traffic shifters (controlled by <code>TrafficShiftingRoles.filters.email</code>)</li><li>Cancel action requires ownership or specific admin role (<code>TrafficShiftingRoles.actions.cancel</code>)</li></ul></li><li><strong>Feature Flags</strong>: None</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-capabilities">Key Capabilities<a class="hash-link" href="#key-capabilities" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-traffic-shifter">Create Traffic Shifter<a class="hash-link" href="#create-traffic-shifter" title="Direct link to heading">​</a></h3><p>Create a virtual service endpoint that distributes traffic across multiple microservices with configurable weight percentages. Users can add up to 5 microservices and define how traffic is split between them (e.g., 70% to Service A, 30% to Service B).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="update-traffic-distribution">Update Traffic Distribution<a class="hash-link" href="#update-traffic-distribution" title="Direct link to heading">​</a></h3><p>Modify the traffic weight distribution for existing traffic shifters. Users can add or remove microservices, adjust percentage weights, and update descriptions without recreating the traffic shifter.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cancel-traffic-shifter">Cancel Traffic Shifter<a class="hash-link" href="#cancel-traffic-shifter" title="Direct link to heading">​</a></h3><p>Deactivate a traffic shifter to stop routing traffic through the virtual service. This is a permanent action that removes the traffic splitting configuration.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitor-traffic-distribution">Monitor Traffic Distribution<a class="hash-link" href="#monitor-traffic-distribution" title="Direct link to heading">​</a></h3><p>View active traffic shifters with their associated microservices, current traffic distribution percentages, status, and endpoint URLs. The interface uses a hierarchical tree view where each traffic shifter can be expanded to show its constituent microservices.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="user-interface">User Interface<a class="hash-link" href="#user-interface" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="main-view">Main View<a class="hash-link" href="#main-view" title="Direct link to heading">​</a></h3><p>The main panel displays a hierarchical data grid showing all traffic shifters with expandable rows revealing the microservices behind each shifter. The table shows:</p><ul><li>Traffic shifter name and subdomain</li><li>Overall status (Active/Inactive)</li><li>Distribution percentages for each microservice</li><li>Endpoint URLs</li><li>Individual microservice status and logs</li><li>User ownership information</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dialogs--modals">Dialogs &amp; Modals<a class="hash-link" href="#dialogs--modals" title="Direct link to heading">​</a></h3><ol><li><p><strong>Traffic Shifting Create Dialog</strong></p><ul><li>Purpose: Create a new traffic shifter with multiple microservices</li><li>Fields:<ul><li>Traffic Shifter Name (required): Display name for the traffic shifter</li><li>Name (subdomain) (required): Subdomain where the traffic shifter will be hosted (alphanumeric, dashes, dots, max 63 chars)</li><li>Description: Optional description</li><li>Services: Select up to 5 microservices to include</li><li>Traffic Weights: Percentage distribution for each service (must total 100%)</li></ul></li><li>Actions:<ul><li>Add Service: Add another microservice to the distribution</li><li>Evenly Distribute Traffic: Automatically balance weights equally across all services</li><li>Pin/Unpin Weight: Lock a service&#x27;s weight percentage to prevent automatic adjustments</li><li>Create Traffic Shifter: Submit and create the traffic shifter</li></ul></li><li>Features:<ul><li>Random webhook URL generator (creates public URLs ending in <code>-webhook</code> or <code>-public</code>)</li><li>Live summary panel showing configuration before creation</li><li>Smart weight adjustment: When adjusting one service&#x27;s weight, others are automatically recalculated</li></ul></li></ul></li><li><p><strong>Cancel Traffic Shift Dialog</strong></p><ul><li>Purpose: Permanently deactivate a traffic shifter</li><li>Fields: Confirmation message</li><li>Actions: Cancel (deactivate) or Close (abort)</li></ul></li><li><p><strong>Traffic Shifter Detail Panel</strong></p><ul><li>Purpose: View and edit an existing traffic shifter</li><li>Fields:<ul><li>Description (editable)</li><li>Service list with weight sliders</li></ul></li><li>Actions:<ul><li>Adjust weights using sliders or numeric input</li><li>Add/remove services</li><li>Evenly distribute traffic</li><li>Reset to original values</li><li>Confirm changes</li></ul></li></ul></li><li><p><strong>Traffic Shifting Input Component</strong></p><ul><li>Purpose: Manage the list of microservices and their traffic weights</li><li>Features:<ul><li>Service autocomplete for selecting microservices</li><li>Weight slider (0-100%) with numeric input</li><li>Pin functionality to lock specific weights during adjustments</li><li>Delete service button (disabled when pinned)</li><li>Intelligent weight redistribution algorithm</li></ul></li></ul></li><li><p><strong>Traffic Shifter Weight Input Slider</strong></p><ul><li>Purpose: Fine-tune individual service traffic percentages</li><li>Features:<ul><li>Slider control (0-100%)</li><li>Numeric text input with percentage symbol</li><li>Automatic clamping to valid range (0-100)</li><li>Integrated with smart redistribution logic</li></ul></li></ul></li><li><p><strong>Traffic Table Filter Dialog</strong></p><ul><li>Purpose: Filter traffic shifters by various criteria</li><li>Fields:<ul><li>Status: Active/Inactive</li><li>Traffic Shifter ID or name</li><li>Pipeline YAML Path</li><li>Timeline filters (Started/Completed with date range)</li></ul></li><li>Actions: Apply filters or Cancel</li></ul></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tables--data-grids">Tables &amp; Data Grids<a class="hash-link" href="#tables--data-grids" title="Direct link to heading">​</a></h3><ol><li><strong>Current Traffic Shifting Table</strong><ul><li>Columns:<ul><li>Actions: Menu with Cancel option (for traffic shifters), Events/Logs (for microservices)</li><li>Name (subdomain/service): Display name or job name (clickable to view details)</li><li>Status: Active/Inactive for traffic shifters, standard status for microservices</li><li>Logs: Grafana link and events/logs dialog for microservices</li><li>Distribution: Traffic percentage (100% for parent, specific % for children)</li><li>ID: Traffic shifter or microservice ID (hidden by default)</li><li>Endpoint: Host URL for traffic shifter, service URL for microservices</li><li>Port: Exposed port for microservices</li><li>Pipeline YAML Path: Path to the pipeline definition</li><li>Start: Start timestamp</li><li>User Email: Owner email</li></ul></li><li>Actions:<ul><li>Click name to view details</li><li>Expand/collapse traffic shifter rows to show microservices</li><li>Cancel traffic shifter from actions menu</li></ul></li><li>Filtering:<ul><li>Filter by status, ID, name, timeline, YAML path</li><li>Email filter automatically applied based on user role</li><li>Filter chips display active filters</li><li>Reset filters button</li></ul></li></ul></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="technical-details">Technical Details<a class="hash-link" href="#technical-details" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="graphql-operations">GraphQL Operations<a class="hash-link" href="#graphql-operations" title="Direct link to heading">​</a></h3><p><strong>Queries:</strong></p><ul><li><code>getTrafficSplit</code> - Retrieves traffic shifters with pagination, filtering, and associated microservice information including weight distribution</li></ul><p><strong>Mutations:</strong></p><ul><li><code>createTrafficSplit</code> - Creates a new traffic shifter with display name, host, service-to-weight mapping, namespace, and description</li><li><code>updateTrafficSplit</code> - Updates an existing traffic shifter&#x27;s display name, description, and service weight distribution</li><li><code>deactivateTrafficSplit</code> - Deactivates/cancels a traffic shifter by ID, namespace, and name</li></ul><p><strong>Subscriptions:</strong></p><ul><li>None</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="component-structure">Component Structure<a class="hash-link" href="#component-structure" title="Direct link to heading">​</a></h3><ul><li>Main Component: <code>components/TrafficShifting/TrafficShiftingPanel.tsx</code></li><li>Dialogs: <code>components/TrafficShifting/Dialogs/</code><ul><li><code>TrafficShiftingCreateDialog.tsx</code> - Create new traffic shifter</li><li><code>CancelTrafficShiftDialog.tsx</code> - Cancel/deactivate traffic shifter</li><li><code>TrafficShifterDetailPanel.tsx</code> - View and edit traffic shifter details</li><li><code>TrafficShiftingInput.tsx</code> - Manage services and weights</li><li><code>TrafficShifterWeightInputSlider.tsx</code> - Weight adjustment slider</li><li><code>TrafficTableFilterDialog.tsx</code> - Filter traffic shifters</li></ul></li><li>Tables: <code>components/TrafficShifting/</code><ul><li><code>TrafficShiftingTables.tsx</code> - Query and data management</li><li><code>CurrentTrafficShiftingTable.tsx</code> - Table display and columns</li></ul></li><li>Details: <code>components/TrafficShifting/TrafficShiftingDetails.tsx</code></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="state-management">State Management<a class="hash-link" href="#state-management" title="Direct link to heading">​</a></h3><p>The feature uses Jotai atoms for state management:</p><ul><li><code>CurrentTrafficAtom</code> - Stores traffic shifter data</li><li><code>CurrentTrafficTablePageAtom</code> - Current table page</li><li><code>CurrentTrafficFiltersAtom</code> - Active filters</li><li><code>CurrentTrafficDataLoadingAtom</code> - Loading state</li><li><code>TrafficPanelSectionAtom</code> - Current panel section (table/create/details)</li><li><code>TrafficDetailsValueAtom</code> - Selected traffic shifter for details view</li><li><code>JobsDetailsValueAtom</code> - Selected microservice for details view</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="weight-distribution-algorithm">Weight Distribution Algorithm<a class="hash-link" href="#weight-distribution-algorithm" title="Direct link to heading">​</a></h3><p>The traffic shifter implements an intelligent weight redistribution algorithm:</p><ol><li>When a user adjusts one service&#x27;s weight, the system automatically adjusts other services to maintain 100% total</li><li>Pinned services are excluded from automatic adjustments</li><li>Adjustments prioritize services after the modified service in the list</li><li>If no subsequent services exist, adjustments are distributed across all unpinned services</li><li>The algorithm handles edge cases to ensure weights always total exactly 100%</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="common-workflows">Common Workflows<a class="hash-link" href="#common-workflows" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-basic-traffic-shifter">Creating a Basic Traffic Shifter<a class="hash-link" href="#creating-a-basic-traffic-shifter" title="Direct link to heading">​</a></h3><ol><li>Click &quot;Create Traffic Shifter&quot; button</li><li>Enter a Traffic Shifter Name</li><li>Enter or generate a subdomain name</li><li>Add 2+ microservices using the &quot;Add Service&quot; button</li><li>Select microservices from the dropdown</li><li>Adjust traffic weights using sliders (or use &quot;Evenly Distribute Traffic&quot;)</li><li>Review the summary panel</li><li>Click &quot;Create Traffic Shifter&quot;</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="performing-a-canary-deployment">Performing a Canary Deployment<a class="hash-link" href="#performing-a-canary-deployment" title="Direct link to heading">​</a></h3><ol><li>Create a traffic shifter with your stable service at 95% and canary service at 5%</li><li>Monitor metrics and logs for both services</li><li>View details of the traffic shifter</li><li>Gradually increase the canary service weight (e.g., 10%, 25%, 50%)</li><li>Use &quot;Confirm&quot; to apply changes</li><li>Continue monitoring and adjusting until canary is at 100% or rollback if issues occur</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ab-testing-multiple-versions">A/B Testing Multiple Versions<a class="hash-link" href="#ab-testing-multiple-versions" title="Direct link to heading">​</a></h3><ol><li>Create a traffic shifter with two service versions</li><li>Set equal weights (50/50) or desired distribution</li><li>Pin both weights to prevent accidental changes</li><li>Monitor user behavior and metrics through logs</li><li>Adjust distribution based on results</li><li>Remove underperforming version when test completes</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="updating-traffic-distribution">Updating Traffic Distribution<a class="hash-link" href="#updating-traffic-distribution" title="Direct link to heading">​</a></h3><ol><li>Click on a traffic shifter name to view details</li><li>Adjust weights using sliders or numeric inputs</li><li>Add new services with &quot;+&quot; button if needed</li><li>Remove services using the delete icon</li><li>Use &quot;Evenly Distribute Traffic&quot; for equal distribution</li><li>Click &quot;Confirm&quot; to apply changes</li><li>Use &quot;Reset&quot; to revert to previous configuration</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="filtering-traffic-shifters">Filtering Traffic Shifters<a class="hash-link" href="#filtering-traffic-shifters" title="Direct link to heading">​</a></h3><ol><li>Click &quot;Filter&quot; button in the toolbar</li><li>Select status (Active/Inactive)</li><li>Enter traffic shifter ID or name</li><li>Set timeline ranges (Started/Completed dates)</li><li>Click &quot;Filter&quot; to apply</li><li>View active filters as chips</li><li>Click &quot;Reset Filters&quot; to clear all filters</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="related-features">Related Features<a class="hash-link" href="#related-features" title="Direct link to heading">​</a></h2><ul><li><a href="/developer-docs/features/jobs">Microservices/Pipeline Jobs</a> - The backend microservices that traffic shifters route to</li><li>Network/Ingress Configuration - Traffic shifters create Kubernetes VirtualService resources</li><li>Stack Components - Pre-configured services that can be used behind traffic shifters</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="notes--tips">Notes &amp; Tips<a class="hash-link" href="#notes--tips" title="Direct link to heading">​</a></h2><ul><li><strong>Subdomain Naming</strong>: Subdomains ending in <code>-webhook</code> or <code>-public</code> are publicly accessible without authentication</li><li><strong>Weight Pinning</strong>: Pin service weights when you want specific services to maintain exact percentages during adjustments</li><li><strong>Maximum Services</strong>: Up to 5 microservices can be added to a single traffic shifter</li><li><strong>Weight Totals</strong>: The system automatically ensures weights always total 100%</li><li><strong>Public URLs</strong>: Random webhook URLs can be generated for public-facing traffic shifters</li><li><strong>Hierarchical View</strong>: Expand traffic shifter rows to see individual microservice status and logs</li><li><strong>Grafana Integration</strong>: Each microservice provides a direct link to Grafana logs</li><li><strong>Email Filtering</strong>: Non-admin users automatically see only their own traffic shifters</li><li><strong>Namespace</strong>: Traffic shifters are deployed to the <code>hyperplane-pipelines</code> namespace</li><li><strong>Virtual Service</strong>: Each traffic shifter creates a Kubernetes VirtualService with the name format <code>hyperplane-traffic-shifter-{id-first-6-chars}</code></li><li><strong>Smart Distribution</strong>: When adjusting weights, unpinned services are automatically recalculated to maintain 100% total</li><li><strong>Deactivation</strong>: Canceling a traffic shifter is permanent and immediately stops traffic routing</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vbeJ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-10-20T18:56:11.000Z">10/20/2025</time></b> by <b>chyuen-devsentient</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/developer-docs/features/stack-components"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Stack Components</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/developer-docs/features/triton-inference-server"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Triton Inference Server</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#access--location" class="table-of-contents__link toc-highlight">Access &amp; Location</a></li><li><a href="#key-capabilities" class="table-of-contents__link toc-highlight">Key Capabilities</a><ul><li><a href="#create-traffic-shifter" class="table-of-contents__link toc-highlight">Create Traffic Shifter</a></li><li><a href="#update-traffic-distribution" class="table-of-contents__link toc-highlight">Update Traffic Distribution</a></li><li><a href="#cancel-traffic-shifter" class="table-of-contents__link toc-highlight">Cancel Traffic Shifter</a></li><li><a href="#monitor-traffic-distribution" class="table-of-contents__link toc-highlight">Monitor Traffic Distribution</a></li></ul></li><li><a href="#user-interface" class="table-of-contents__link toc-highlight">User Interface</a><ul><li><a href="#main-view" class="table-of-contents__link toc-highlight">Main View</a></li><li><a href="#dialogs--modals" class="table-of-contents__link toc-highlight">Dialogs &amp; Modals</a></li><li><a href="#tables--data-grids" class="table-of-contents__link toc-highlight">Tables &amp; Data Grids</a></li></ul></li><li><a href="#technical-details" class="table-of-contents__link toc-highlight">Technical Details</a><ul><li><a href="#graphql-operations" class="table-of-contents__link toc-highlight">GraphQL Operations</a></li><li><a href="#component-structure" class="table-of-contents__link toc-highlight">Component Structure</a></li><li><a href="#state-management" class="table-of-contents__link toc-highlight">State Management</a></li><li><a href="#weight-distribution-algorithm" class="table-of-contents__link toc-highlight">Weight Distribution Algorithm</a></li></ul></li><li><a href="#common-workflows" class="table-of-contents__link toc-highlight">Common Workflows</a><ul><li><a href="#creating-a-basic-traffic-shifter" class="table-of-contents__link toc-highlight">Creating a Basic Traffic Shifter</a></li><li><a href="#performing-a-canary-deployment" class="table-of-contents__link toc-highlight">Performing a Canary Deployment</a></li><li><a href="#ab-testing-multiple-versions" class="table-of-contents__link toc-highlight">A/B Testing Multiple Versions</a></li><li><a href="#updating-traffic-distribution" class="table-of-contents__link toc-highlight">Updating Traffic Distribution</a></li><li><a href="#filtering-traffic-shifters" class="table-of-contents__link toc-highlight">Filtering Traffic Shifters</a></li></ul></li><li><a href="#related-features" class="table-of-contents__link toc-highlight">Related Features</a></li><li><a href="#notes--tips" class="table-of-contents__link toc-highlight">Notes &amp; Tips</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/shakudo" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/shakudo_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/devsentient/examples" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Shakudo Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.1f356c05.js"></script>
<script src="/assets/js/main.f10f344c.js"></script>
</body>
</html>