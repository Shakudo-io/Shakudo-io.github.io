<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-developer-docs/features/persistent-volumes">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Shakudo Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Shakudo Docs Atom Feed"><title data-rh="true">Persistent Volumes | Shakudo Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/developer-docs/features/persistent-volumes"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Persistent Volumes | Shakudo Docs"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/developer-docs/features/persistent-volumes"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/developer-docs/features/persistent-volumes" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/developer-docs/features/persistent-volumes" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.ce3a0bdd.css">
<link rel="preload" href="/assets/js/runtime~main.1f356c05.js" as="script">
<link rel="preload" href="/assets/js/main.f10f344c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/home"><div class="navbar__logo"><img src="/img/logo.svg" alt="Shakudo logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Shakudo logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Shakudo Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/home">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/devsentient/examples" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/home">Welcome to Shakudo</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/shakudo-platform">Shakudo Platform</a><button aria-label="Toggle the collapsible sidebar category &#x27;Shakudo Platform&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed hidden"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/shakudo-stack-components">Shakudo Stack Components</a><button aria-label="Toggle the collapsible sidebar category &#x27;Shakudo Stack Components&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/legacy/public-logo-cdn-setup">Legacy</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/category/developer-docs">Developer Docs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developer Docs&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/intro">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/category/platform-features">Platform Features</a><button aria-label="Toggle the collapsible sidebar category &#x27;Platform Features&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/alert-targets">Alert Targets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/apps-catalogue">Apps Catalogue (Stack Components Directory)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/authorization-policies">Authorization Policies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/billing-projects">Billing Projects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/cloud-sql-proxy">Cloud SQL Proxy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/container-images">Container Images</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/data-stack-graph">Data Stack Graph</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/datalake">Datalake (Shakudo Data Lakehouse)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/distributed-workloads-dashboard">Distributed Workloads Dashboard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/environment-configs">Environment Configs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/git-repositories">Git Repositories</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/home">Home Panel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/jobs">Immediate Jobs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/outbound-traffic-access">Outbound Traffic Access</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/developer-docs/features/persistent-volumes">Persistent Volumes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/plugins">Plugins Panel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/satellite-clusters">Satellite Clusters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/scheduled-jobs">Scheduled Jobs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/secops">Access Logs (SecOps)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/secrets">Secrets Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/service-accounts">Service Accounts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/services">Microservices (Services Panel)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/sessions">Sessions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/shakudo-sync">Shakudo Sync</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/stack-components">Stack Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/traffic-shifting">Traffic Shifting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/triton-inference-server">Triton Inference Server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/tutorials">Tutorials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developer-docs/features/users">User Management</a></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/developer-docs"><span itemprop="name">Developer Docs</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/platform-features"><span itemprop="name">Platform Features</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Persistent Volumes</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Persistent Volumes</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a class="hash-link" href="#overview" title="Direct link to heading">​</a></h2><p>The Persistent Volumes panel provides comprehensive management of Kubernetes Persistent Volume Claims (PVCs) across all namespaces in the cluster. This feature enables administrators to view, monitor, and resize storage volumes used by applications and services running on the platform. It displays real-time storage usage metrics, identifies which pods are using each volume, and allows for dynamic volume expansion without service disruption.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="access--location">Access &amp; Location<a class="hash-link" href="#access--location" title="Direct link to heading">​</a></h2><ul><li><strong>Route</strong>: <code>?panel=persistent-volumes</code></li><li><strong>Navigation</strong>: Kubernetes Resources → Persistent Volumes</li><li><strong>Access Requirements</strong>: dashboard-admin role</li><li><strong>Feature Flags</strong>: None</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-capabilities">Key Capabilities<a class="hash-link" href="#key-capabilities" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="view-persistent-volume-claims">View Persistent Volume Claims<a class="hash-link" href="#view-persistent-volume-claims" title="Direct link to heading">​</a></h3><p>Browse all PVCs across all namespaces with detailed information including name, namespace, size, storage class, status, and associated pods. The main view displays PVCs in a card-based layout with color-coded status indicators and key metadata at a glance.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitor-storage-usage">Monitor Storage Usage<a class="hash-link" href="#monitor-storage-usage" title="Direct link to heading">​</a></h3><p>View real-time storage usage statistics for each PVC, including total capacity, used space, available space, and usage percentage. Usage metrics are retrieved from Prometheus and displayed with visual indicators (progress bars) that change color based on utilization thresholds (green: &lt;70%, yellow: 70-90%, red: &gt;90%).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resize-persistent-volumes">Resize Persistent Volumes<a class="hash-link" href="#resize-persistent-volumes" title="Direct link to heading">​</a></h3><p>Dynamically expand PVC storage capacity without downtime. The feature validates resize requests to ensure only size increases are allowed (volume shrinking is not supported by Kubernetes) and provides real-time feedback during the resize operation.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="filter-and-search">Filter and Search<a class="hash-link" href="#filter-and-search" title="Direct link to heading">​</a></h3><p>Filter PVCs by namespace or status, and search across multiple fields including PVC name, namespace, status, and storage class. Advanced sorting capabilities allow ordering by name, namespace, status, size, or creation date in ascending or descending order.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="track-pod-usage">Track Pod Usage<a class="hash-link" href="#track-pod-usage" title="Direct link to heading">​</a></h3><p>Identify which pods are currently using each PVC, helping with dependency analysis, cleanup decisions, and capacity planning. The interface shows a count of pods using each volume and provides detailed pod names in the details view.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="user-interface">User Interface<a class="hash-link" href="#user-interface" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="main-view">Main View<a class="hash-link" href="#main-view" title="Direct link to heading">​</a></h3><p>The main panel displays PVCs as interactive cards in a paginated list. Each card shows:</p><ul><li><strong>Avatar</strong>: Color-coded avatar with the first letter of the PVC name</li><li><strong>Name</strong>: Full PVC name</li><li><strong>Namespace</strong>: Namespace chip (outlined style)</li><li><strong>Status</strong>: Color-coded status chip (green for Bound, yellow for Pending, red for Lost)</li><li><strong>Storage Size</strong>: Allocated capacity (e.g., &quot;10Gi&quot;)</li><li><strong>Storage Class</strong>: Type of storage (e.g., &quot;local-path&quot;, &quot;standard&quot;)</li><li><strong>Pod Count</strong>: Number of pods currently using the volume</li><li><strong>Creation Date</strong>: When the PVC was created</li></ul><p>The interface includes a comprehensive control panel with:</p><ul><li><strong>Filter Section</strong>: Dropdowns to filter by namespace and status</li><li><strong>Sort Section</strong>: Dropdown to select sort field (Name, Namespace, Status, Size, Created) with toggle button for ascending/descending order</li><li><strong>Search Bar</strong>: Text input with live search across name, namespace, status, and storage class</li><li><strong>Action Buttons</strong>: Reset filters button (appears when filters are active) and refresh button to reload data</li><li><strong>Result Counter</strong>: Shows current page results, filtered total, and grand total</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dialogs--modals">Dialogs &amp; Modals<a class="hash-link" href="#dialogs--modals" title="Direct link to heading">​</a></h3><ol><li><strong>PVC Details Dialog</strong><ul><li>Purpose: Display comprehensive information about a selected PVC and enable resize operations</li><li>Triggered by: Clicking on any PVC card in the main view</li><li>Sections:<ul><li><strong>Basic Information</strong>: Name, namespace, status, size, storage class, creation timestamp</li><li><strong>Pod Usage</strong>: List of all pods currently mounting this PVC</li><li><strong>Storage Usage</strong>: Real-time usage statistics from Prometheus (if available)<ul><li>Total capacity vs. used space</li><li>Visual progress bar with color coding</li><li>Available space calculation</li><li>Source pod from which metrics were collected</li><li>Special note for local-path storage explaining that metrics reflect node filesystem usage</li></ul></li><li><strong>Resize PVC</strong>: Interface to expand volume capacity</li></ul></li><li>Fields:<ul><li><strong>New Size</strong>: Text input accepting Kubernetes size formats (e.g., &quot;20Gi&quot;, &quot;500Mi&quot;, &quot;2Ti&quot;)</li><li>Real-time validation to ensure new size is larger than current size</li><li>Helper text with format examples and validation errors</li></ul></li><li>Actions:<ul><li><strong>Resize PVC</strong>: Submit button (disabled until valid size is entered)</li><li><strong>Close</strong>: Dismiss dialog without changes</li></ul></li></ul></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tables--data-grids">Tables &amp; Data Grids<a class="hash-link" href="#tables--data-grids" title="Direct link to heading">​</a></h3><p>The main view uses a card-based layout rather than a traditional table, providing:</p><ul><li><strong>Columns</strong> (displayed as card metadata):<ul><li>Name (with avatar)</li><li>Namespace (chip)</li><li>Status (colored chip)</li><li>Storage Size (icon + text)</li><li>Storage Class (icon + text)</li><li>Pod Count (icon + text)</li><li>Created Date (icon + formatted date)</li></ul></li><li><strong>Actions</strong>: Click any card to open the details dialog</li><li><strong>Filtering</strong>:<ul><li>Namespace filter (dropdown with all unique namespaces)</li><li>Status filter (dropdown with all unique statuses)</li><li>Global search (searches across name, namespace, status, storage class)</li></ul></li><li><strong>Sorting</strong>:<ul><li>Sort by Name, Namespace, Status, Size, or Created date</li><li>Toggle between ascending and descending order</li><li>Proper numeric sorting for sizes (converts to bytes for accurate comparison)</li></ul></li><li><strong>Pagination</strong>: 20 items per page with first/last/prev/next navigation</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="technical-details">Technical Details<a class="hash-link" href="#technical-details" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-operations">API Operations<a class="hash-link" href="#api-operations" title="Direct link to heading">​</a></h3><p><strong>Endpoints:</strong></p><ul><li><code>GET /api/pvcs/list</code> - Retrieve all PVCs across all namespaces with pod usage information</li><li><code>POST /api/pvcs/usage</code> - Get real-time storage usage metrics for a specific PVC from Prometheus</li><li><code>POST /api/pvcs/resize</code> - Resize a PVC by updating its storage request</li></ul><p><strong>Authentication:</strong>
All API endpoints require:</p><ul><li>Bearer token authentication (Keycloak JWT)</li><li>dashboard-admin role authorization</li></ul><p><strong>List PVCs Operation:</strong></p><ul><li>Queries Kubernetes API for all PVCs across namespaces</li><li>Queries all pods to determine PVC usage relationships</li><li>Returns array of PVC objects with metadata and associated pod names</li><li>Response includes: name, namespace, size, storageClass, status, volumeName, created, usingPods, podCount</li></ul><p><strong>Usage Metrics Operation:</strong></p><ul><li>Accepts PVC name and namespace as parameters</li><li>Finds pods currently using the PVC</li><li>Queries Prometheus for volume statistics:<ul><li>Primary metrics: <code>kubelet_volume_stats_used_bytes</code> and <code>kubelet_volume_stats_capacity_bytes</code></li><li>Fallback metrics: <code>container_fs_usage_bytes</code> and <code>container_fs_limit_bytes</code></li></ul></li><li>Calculates available space and usage percentage</li><li>Formats bytes to human-readable units (B, Ki, Mi, Gi, Ti)</li><li>Returns null usage with informative message if metrics unavailable</li></ul><p><strong>Resize Operation:</strong></p><ul><li>Accepts PVC name, namespace, and new size</li><li>Reads current PVC specification from Kubernetes</li><li>Updates only the storage request field</li><li>Applies the change using Kubernetes API replace operation</li><li>Frontend validates size increase before allowing submission</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="component-structure">Component Structure<a class="hash-link" href="#component-structure" title="Direct link to heading">​</a></h3><ul><li>Main Component: <code>components/PVCs/PVCPanel.tsx</code></li><li>Table Component: <code>components/PVCs/PVCTable.tsx</code></li><li>Dialog Component: <code>components/PVCs/PVCDetailsDialog.tsx</code></li><li>Hook: <code>hooks/usePVCs.ts</code></li><li>API Routes:<ul><li><code>pages/api/pvcs/list.ts</code></li><li><code>pages/api/pvcs/usage.ts</code></li><li><code>pages/api/pvcs/resize.ts</code></li></ul></li><li>Utilities: <code>utils/sizeUtils.ts</code> (size parsing and validation)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-flow">Data Flow<a class="hash-link" href="#data-flow" title="Direct link to heading">​</a></h3><ol><li><strong>Initial Load</strong>: PVCPanel mounts → usePVCs hook triggers → API call to /api/pvcs/list → Kubernetes API queries PVCs and Pods → Data processed and returned</li><li><strong>Usage Metrics</strong>: User clicks PVC card → PVCDetailsDialog opens → API call to /api/pvcs/usage → Prometheus queries → Usage data displayed</li><li><strong>Resize</strong>: User enters new size → Validation occurs → Resize button clicked → API call to /api/pvcs/resize → Kubernetes API updates PVC → Success notification → Dialog closes</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="state-management">State Management<a class="hash-link" href="#state-management" title="Direct link to heading">​</a></h3><ul><li><strong>Local State</strong>: React hooks manage component-level state (search, filters, sorting, pagination, dialog open/close)</li><li><strong>Data Fetching</strong>: Custom <code>usePVCs</code> hook handles API calls with loading, error, and refetch capabilities</li><li><strong>Dialog State</strong>: Separate state for resize operation status, usage loading, and error messages</li><li><strong>Abort Controllers</strong>: Used to prevent memory leaks by canceling in-flight requests when components unmount</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="special-considerations">Special Considerations<a class="hash-link" href="#special-considerations" title="Direct link to heading">​</a></h3><ul><li><strong>Local-Path Storage</strong>: Special handling and user notification that usage metrics for local-path storage reflect entire node filesystem, not just the PVC</li><li><strong>Size Validation</strong>: Frontend validates that new size is greater than current size using byte conversion for accurate comparison</li><li><strong>Prometheus Metrics</strong>: Graceful degradation if Prometheus is unavailable or metrics not collected</li><li><strong>Memory Leak Prevention</strong>: Abort controllers and mounted refs prevent state updates after component unmounts</li><li><strong>Pod Status</strong>: Usage metrics only available from running pods; appropriate messaging for stopped/pending pods</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="common-workflows">Common Workflows<a class="hash-link" href="#common-workflows" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="view-storage-capacity-across-cluster">View Storage Capacity Across Cluster<a class="hash-link" href="#view-storage-capacity-across-cluster" title="Direct link to heading">​</a></h3><ol><li>Navigate to Persistent Volumes panel</li><li>Review the list of all PVCs with their sizes and statuses</li><li>Use namespace filter to focus on specific applications</li><li>Sort by size to identify largest volumes</li><li>Review pod count to understand utilization</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="check-storage-usage-for-a-specific-volume">Check Storage Usage for a Specific Volume<a class="hash-link" href="#check-storage-usage-for-a-specific-volume" title="Direct link to heading">​</a></h3><ol><li>Locate the PVC in the main list (use search if needed)</li><li>Click on the PVC card to open details dialog</li><li>View the Storage Usage section</li><li>Check the usage percentage and visual progress bar</li><li>Note available space and consider resize if needed</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="expand-a-volume-thats-running-out-of-space">Expand a Volume That&#x27;s Running Out of Space<a class="hash-link" href="#expand-a-volume-thats-running-out-of-space" title="Direct link to heading">​</a></h3><ol><li>Open the PVC details dialog for the target volume</li><li>Review current usage in the Storage Usage section</li><li>Scroll to the Resize PVC section</li><li>Enter new size larger than current (e.g., if current is &quot;10Gi&quot;, enter &quot;20Gi&quot;)</li><li>Verify that validation passes (no error shown)</li><li>Click &quot;Resize PVC&quot; button</li><li>Wait for confirmation notification</li><li>Close dialog and monitor the PVC status</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="identify-unused-volumes-for-cleanup">Identify Unused Volumes for Cleanup<a class="hash-link" href="#identify-unused-volumes-for-cleanup" title="Direct link to heading">​</a></h3><ol><li>Review the PVC list in the main panel</li><li>Look for PVCs with pod count of 0</li><li>Click on suspected unused PVCs to verify no pods listed</li><li>Note: This panel provides viewing only; deletion requires other tools or kubectl</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshoot-storage-issues">Troubleshoot Storage Issues<a class="hash-link" href="#troubleshoot-storage-issues" title="Direct link to heading">​</a></h3><ol><li>Search for the problematic PVC using the search bar</li><li>Open details dialog to check status</li><li>Review which pods are using the volume</li><li>Check storage usage metrics if pod is running</li><li>Verify storage class for provisioner issues</li><li>Check creation timestamp for age-related issues</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="filter-pvcs-by-namespace-for-team-specific-review">Filter PVCs by Namespace for Team-Specific Review<a class="hash-link" href="#filter-pvcs-by-namespace-for-team-specific-review" title="Direct link to heading">​</a></h3><ol><li>Use the namespace dropdown filter in the control panel</li><li>Select the target namespace (e.g., &quot;hyperplane-pipelines&quot;, &quot;hyperplane-jhub&quot;)</li><li>Review all PVCs in that namespace</li><li>Sort by size or creation date as needed</li><li>Use &quot;Reset all filters&quot; to return to full view</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="related-features">Related Features<a class="hash-link" href="#related-features" title="Direct link to heading">​</a></h2><ul><li>Job Management - Many jobs create temporary PVCs for data persistence</li><li>Session Management - JupyterHub sessions use PVCs for user workspaces</li><li>Microservices - Some microservices may mount PVCs for data storage</li><li>Stack Components - Database and storage components create PVCs</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="notes--tips">Notes &amp; Tips<a class="hash-link" href="#notes--tips" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="general-usage">General Usage<a class="hash-link" href="#general-usage" title="Direct link to heading">​</a></h3><ul><li><strong>Bound Status</strong>: Indicates the PVC is successfully attached to a Persistent Volume and ready for use</li><li><strong>Pending Status</strong>: Usually means the provisioner is creating the volume or waiting for resources</li><li><strong>Lost Status</strong>: Indicates the underlying storage has been lost or is unavailable</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resize-considerations">Resize Considerations<a class="hash-link" href="#resize-considerations" title="Direct link to heading">​</a></h3><ul><li><strong>One-Way Operation</strong>: PVCs can only be expanded, never shrunk. Plan capacity increases carefully.</li><li><strong>Storage Class Support</strong>: Not all storage classes support volume expansion. Check the <code>allowVolumeExpansion</code> field in the StorageClass.</li><li><strong>File System Expansion</strong>: After PVC resize, the pod may need to be restarted for the file system to recognize the new capacity.</li><li><strong>Validation</strong>: The UI validates size increases before submission, converting sizes to bytes for accurate comparison (e.g., recognizes that &quot;10Gi&quot; &lt; &quot;10000Mi&quot;).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="storage-usage-metrics">Storage Usage Metrics<a class="hash-link" href="#storage-usage-metrics" title="Direct link to heading">​</a></h3><ul><li><strong>Prometheus Required</strong>: Usage statistics require Prometheus to be deployed and collecting kubelet metrics.</li><li><strong>Running Pods Only</strong>: Metrics are only available when at least one pod mounting the PVC is in Running state.</li><li><strong>Local-Path Note</strong>: For local-path storage, usage shows the entire node&#x27;s filesystem usage, not just the PVC, since local-path uses a directory on the node rather than a dedicated volume.</li><li><strong>Metric Collection Delay</strong>: Newly created PVCs may not show usage immediately; allow a few minutes for metrics to populate.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="search-and-filter-tips">Search and Filter Tips<a class="hash-link" href="#search-and-filter-tips" title="Direct link to heading">​</a></h3><ul><li><strong>Global Search</strong>: Searches across multiple fields simultaneously (name, namespace, status, storage class)</li><li><strong>Combined Filters</strong>: Use multiple filters together (e.g., namespace + status + search) for precise results</li><li><strong>Reset Filters</strong>: Click the reset button to quickly return to unfiltered view</li><li><strong>Pagination</strong>: Results are paginated at 20 per page; filters reset to page 1 when changed</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance">Performance<a class="hash-link" href="#performance" title="Direct link to heading">​</a></h3><ul><li><strong>Large Clusters</strong>: For clusters with hundreds of PVCs, initial load may take several seconds</li><li><strong>Refresh Button</strong>: Use the refresh button to reload data after making changes outside the UI</li><li><strong>Responsive Design</strong>: The interface adapts to mobile and tablet screens with adjusted layouts</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a class="hash-link" href="#troubleshooting" title="Direct link to heading">​</a></h3><ul><li><strong>Usage Metrics Not Available</strong>: Check that Prometheus is running and that kubelet metrics are being scraped</li><li><strong>Resize Fails</strong>: Verify the storage class supports volume expansion and check Kubernetes events for detailed error messages</li><li><strong>Empty List</strong>: Ensure you have dashboard-admin role and that PVCs exist in the cluster</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vbeJ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-10-20T18:56:11.000Z">10/20/2025</time></b> by <b>chyuen-devsentient</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/developer-docs/features/outbound-traffic-access"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Outbound Traffic Access</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/developer-docs/features/plugins"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Plugins Panel</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#access--location" class="table-of-contents__link toc-highlight">Access &amp; Location</a></li><li><a href="#key-capabilities" class="table-of-contents__link toc-highlight">Key Capabilities</a><ul><li><a href="#view-persistent-volume-claims" class="table-of-contents__link toc-highlight">View Persistent Volume Claims</a></li><li><a href="#monitor-storage-usage" class="table-of-contents__link toc-highlight">Monitor Storage Usage</a></li><li><a href="#resize-persistent-volumes" class="table-of-contents__link toc-highlight">Resize Persistent Volumes</a></li><li><a href="#filter-and-search" class="table-of-contents__link toc-highlight">Filter and Search</a></li><li><a href="#track-pod-usage" class="table-of-contents__link toc-highlight">Track Pod Usage</a></li></ul></li><li><a href="#user-interface" class="table-of-contents__link toc-highlight">User Interface</a><ul><li><a href="#main-view" class="table-of-contents__link toc-highlight">Main View</a></li><li><a href="#dialogs--modals" class="table-of-contents__link toc-highlight">Dialogs &amp; Modals</a></li><li><a href="#tables--data-grids" class="table-of-contents__link toc-highlight">Tables &amp; Data Grids</a></li></ul></li><li><a href="#technical-details" class="table-of-contents__link toc-highlight">Technical Details</a><ul><li><a href="#api-operations" class="table-of-contents__link toc-highlight">API Operations</a></li><li><a href="#component-structure" class="table-of-contents__link toc-highlight">Component Structure</a></li><li><a href="#data-flow" class="table-of-contents__link toc-highlight">Data Flow</a></li><li><a href="#state-management" class="table-of-contents__link toc-highlight">State Management</a></li><li><a href="#special-considerations" class="table-of-contents__link toc-highlight">Special Considerations</a></li></ul></li><li><a href="#common-workflows" class="table-of-contents__link toc-highlight">Common Workflows</a><ul><li><a href="#view-storage-capacity-across-cluster" class="table-of-contents__link toc-highlight">View Storage Capacity Across Cluster</a></li><li><a href="#check-storage-usage-for-a-specific-volume" class="table-of-contents__link toc-highlight">Check Storage Usage for a Specific Volume</a></li><li><a href="#expand-a-volume-thats-running-out-of-space" class="table-of-contents__link toc-highlight">Expand a Volume That&#39;s Running Out of Space</a></li><li><a href="#identify-unused-volumes-for-cleanup" class="table-of-contents__link toc-highlight">Identify Unused Volumes for Cleanup</a></li><li><a href="#troubleshoot-storage-issues" class="table-of-contents__link toc-highlight">Troubleshoot Storage Issues</a></li><li><a href="#filter-pvcs-by-namespace-for-team-specific-review" class="table-of-contents__link toc-highlight">Filter PVCs by Namespace for Team-Specific Review</a></li></ul></li><li><a href="#related-features" class="table-of-contents__link toc-highlight">Related Features</a></li><li><a href="#notes--tips" class="table-of-contents__link toc-highlight">Notes &amp; Tips</a><ul><li><a href="#general-usage" class="table-of-contents__link toc-highlight">General Usage</a></li><li><a href="#resize-considerations" class="table-of-contents__link toc-highlight">Resize Considerations</a></li><li><a href="#storage-usage-metrics" class="table-of-contents__link toc-highlight">Storage Usage Metrics</a></li><li><a href="#search-and-filter-tips" class="table-of-contents__link toc-highlight">Search and Filter Tips</a></li><li><a href="#performance" class="table-of-contents__link toc-highlight">Performance</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/shakudo" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/shakudo_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/devsentient/examples" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Shakudo Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.1f356c05.js"></script>
<script src="/assets/js/main.f10f344c.js"></script>
</body>
</html>